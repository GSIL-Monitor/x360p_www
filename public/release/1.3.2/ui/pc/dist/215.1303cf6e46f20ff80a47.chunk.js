webpackJsonp([215,275],{1599:function(t,e,i){"use strict";var s=i(1),a=i(209),l=i(207),n=i(767),o={card_name:"",discount_define:[],dpt_ids:[],amount:100,bids:[],expire_days:365};e.a={mixins:[a.a,l.a],components:{SelectBranch:n.a},data:function(){return{expire_days_type:0,type_range:1,info:s.b.copy(o)}},watch:{"modal$.show":function(t){t&&"add"==this.modal$.action&&(this.expire_days_type=0,this.info=s.b.copy(o),this.formatDefine())}},methods:{ok:function(){if(""===this.info.card_name)return this.$Message.error("储值卡名称不能为空"),!1;if(0===this.info.amount)return this.$Message.error("储值卡面额不能为0"),!1;for(var t=this.info.discount_define,e=!0,i=0,s=t.length;i<s;i++)if(3===t[i].discount_type&&(0==t[i].origin||0==t[i].current)){e=!1;break}if(!e)return this.$Message.error("直接定价的金额不能为0"),!1;this.save()},save:function(){var t=this,e="add"==this.modal$.action?"post":"put",i="add"==this.modal$.action?"添加":"编辑",a=this.$rest(this.info_url$);"add"!=this.modal$.action?a.add_url_param(this.info[this.info_pk_id$]):this.info&&this.info_pk_id$&&this.info[this.info_pk_id$]&&delete this.info[this.info_pk_id$],a[e](this.info).success(function(e){var a=e.data;"add"==t.modal$.action&&s.a.isString(a)&&/^\d+$/.test(a)&&(t.info[t.info_pk_id$]=s.b.int(a)),t.$Message.success(s.b.sprintf("%s%s成功!",t.info_name$,i)),t.$emit("save",{action:t.modal$.action,data:t.info}),t.close()}).error(function(e){t.$Message.error(e.body.message)})},formatDefine:function(){var t=this;this.$store.state.gvars.dicts.product_level.forEach(function(e){t.info.discount_define.push({name:e.title,did:e.did,discount_type:1,reduced_amount:0,discount_rate:100,origin:0,current:0})})},delItem:function(t){this.info.discount_define.splice(t,1)},expireDaysChange:function(t){1===t?this.info.expire_days=365:2===t&&(this.info.expire_days=183)}},computed:{info_url$:function(){return"debit_cards"},info_name$:function(){return"储值卡"},info_pk_id$:function(){return"dc_id"},companys:function(){return this.$store.state.gvars.departments.filter(function(t){return 2===t.dpt_type})}}}},2192:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{directives:[{name:"drag-modal",rawName:"v-drag-modal"}],attrs:{title:t.modal$.title,"mask-closable":!1,width:"700"},model:{value:t.modal$.show,callback:function(e){t.$set(t.modal$,"show",e)},expression:"modal$.show"}},[t.modal$.show?[i("Form",{ref:"form",attrs:{model:t.info,"label-width":100}},[i("Form-item",{staticClass:"custom-form-item-required",attrs:{label:"储值卡名称",prop:"card_name"}},[i("Input",{attrs:{clearable:"",placeholder:"请输入卡名称"},model:{value:t.info.card_name,callback:function(e){t.$set(t.info,"card_name",e)},expression:"info.card_name"}})],1),t._v(" "),i("Form-item",{staticClass:"custom-form-item-required",attrs:{label:"面额",prop:"amount"}},[i("InputNumber",{attrs:{min:0},model:{value:t.info.amount,callback:function(e){t.$set(t.info,"amount",e)},expression:"info.amount"}}),t._v(" 元\n\t\t\t")],1),t._v(" "),i("Form-item",{attrs:{label:"有效期",prop:"expire_day"}},[i("InputNumber",{attrs:{min:0},model:{value:t.info.expire_days,callback:function(e){t.$set(t.info,"expire_days",e)},expression:"info.expire_days"}}),t._v(" 天( 0表示无限制 )\n\t\t\t\t"),i("RadioGroup",{staticClass:"pull-right",attrs:{size:"small",type:"button"},on:{"on-change":t.expireDaysChange},model:{value:t.expire_days_type,callback:function(e){t.expire_days_type=e},expression:"expire_days_type"}},[i("Radio",{attrs:{label:1}},[t._v("一年")]),t._v(" "),i("Radio",{attrs:{label:2}},[t._v("半年")])],1)],1),t._v(" "),i("Form-item",{directives:[{name:"help",rawName:"v-help",value:"学员购买储值卡会自动升级会员，需在系统设置开启会员体系",expression:"'学员购买储值卡会自动升级会员，需在系统设置开启会员体系'"}],attrs:{label:"会员等级",prop:"upgrade_vip_level"}},[i("Select",{model:{value:t.info.upgrade_vip_level,callback:function(e){t.$set(t.info,"upgrade_vip_level",e)},expression:"info.upgrade_vip_level"}},t._l(t.vip_level_config,function(e,s){return s>0?i("Option",{attrs:{value:s}},[t._v(t._s(e.name)+"\n\t\t\t\t\t")]):t._e()}))],1),t._v(" "),i("Form-item",{attrs:{label:"适用范围"}},[t.enable_company?i("RadioGroup",{attrs:{type:"button",size:"small"},model:{value:t.type_range,callback:function(e){t.type_range=e},expression:"type_range"}},[i("Radio",{attrs:{label:1}},[t._v("按校区")]),t._v(" "),i("Radio",{attrs:{label:2}},[t._v("按分公司")])],1):t._e(),t._v(" "),t.enable_company&&2==t.type_range?i("Select",{attrs:{multiple:"",placeholder:"请选择分公司"},model:{value:t.info.dpt_ids,callback:function(e){t.$set(t.info,"dpt_ids",e)},expression:"info.dpt_ids"}},t._l(t.companys,function(e){return i("Option",{attrs:{value:String(e.dpt_id)}},[t._v(t._s(e.dpt_name)+"\n\t\t\t\t\t")])})):t._e(),t._v(" "),1==t.type_range?i("select-branch",{attrs:{clearable:"",placeholder:"请选择校区"},model:{value:t.info.bids,callback:function(e){t.$set(t.info,"bids",e)},expression:"info.bids"}}):t._e()],1),t._v(" "),i("Form-item",{attrs:{label:"折扣定义",prop:"discount_define"}},[i("table",{attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("课程等级")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("方案")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("优惠")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("操作")])])])]),t._v(" "),i("tbody",t._l(t.info.discount_define,function(e,s){return i("tr",[i("td",[i("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.name))])]),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[i("Select",{staticStyle:{width:"90px"},attrs:{size:"small"},model:{value:e.discount_type,callback:function(i){t.$set(e,"discount_type",i)},expression:"item.discount_type"}},[i("Option",{attrs:{value:1}},[t._v("折扣")]),t._v(" "),i("Option",{attrs:{value:2}},[t._v("直减")]),t._v(" "),i("Option",{attrs:{value:3}},[t._v("直接定价")])],1)],1)]),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[1===e.discount_type?[i("Input",{directives:[{name:"keeptwo",rawName:"v-keeptwo"}],staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.discount_rate,callback:function(i){t.$set(e,"discount_rate",i)},expression:"item.discount_rate"}},[i("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])]:2===e.discount_type?[i("Input",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.reduced_amount,callback:function(i){t.$set(e,"reduced_amount",i)},expression:"item.reduced_amount"}},[i("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])]:[i("p",[i("Input",{directives:[{name:"keeptwo",rawName:"v-keeptwo"}],staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.origin,callback:function(i){t.$set(e,"origin",i)},expression:"item.origin"}},[i("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("原价")]),t._v(" "),i("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),i("p",[i("Input",{directives:[{name:"keeptwo",rawName:"v-keeptwo"}],staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.current,callback:function(i){t.$set(e,"current",i)},expression:"item.current"}},[i("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("现价")]),t._v(" "),i("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1)]],2)]),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[i("Button",{attrs:{type:"ghost",size:"small",icon:"ios-trash",shape:"circle"},on:{click:function(e){t.delItem(s)}}})],1)])])}))])])],1)]:t._e(),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"ghost",disabled:t.saving},on:{click:t.close}},[t._v("关闭")]),t._v(" "),i("Button",{attrs:{type:"primary",loading:t.saving},on:{click:t.ok}},[t._v("确定")])],1)],2)},a=[];s._withStripped=!0;var l={render:s,staticRenderFns:a};e.a=l},338:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(706),a=i(769),l=i(11),n=l(s.a,a.a,!1,null,null,null);n.options.__file="src/views/components/SelectBranchModal.vue",e.default=n.exports},396:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1599),a=i(2192),l=i(11),n=l(s.a,a.a,!1,null,null,null);n.options.__file="src/views/basic/debit/info-modal.vue",e.default=n.exports},627:function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=t.$children;return s.length&&s.forEach(function(t){var s=t.$options.name,l=t.$children;if(s===e&&i.push(t),l.length){var n=a(t,e,i);n&&i.concat(n)}}),i}e.b=s,i.d(e,"a",function(){return a});window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver},706:function(t,e,i){"use strict";var s=i(54),a=i.n(s),l=i(207),n=i(55),o=i(208),r=(i(24),i(1));e.a={name:"BranchList",mixins:[l.a,n.a,o.a],props:{value:{type:Boolean,default:""},width:{type:String,default:""},title:{type:String,default:"选择校区"},multiple:{type:Boolean,default:!1},selected:{type:[Array,Number],default:[]},limitPer:{type:Boolean,default:!0}},data:function(){return{search_field:{branch_name:"",dpt_id:0},modalShow:!1,pageIndex:1,pageSize:10,totalCount:0,data:[],selIds:[],is_data_init:!1,checkAll:!1}},computed:{total:function(){return this.totalCount},classes:function(){var t;return["select-list",(t={},a()(t,"select-list-multiple",this.multiple),a()(t,"select-list-single",!this.multiple),t)]},labelText:function(){if(this.selIds.length>0){var t=this.$filter("branch_name")(this.selIds[0]);return t||""}},selectedTotal:function(){return this.selIds.length},selectedList:function(){var t=this,e=[];return this.selIds.forEach(function(i){i>0&&e.push(t.getObjById(i))}),e},companys:function(){function t(e,i,s,a){var l=e.find(function(t){return t.dpt_id==i});if(l)if(2==l.dpt_type){var n=s.find(function(t){return t.dpt_id==l.dpt_id});n&&n.bids.push(a.bid)}else t(e,l.pid,s,a)}var e=this,i=this.is_admin?this.branchs:this.branchs.filter(function(t){return e.bids_user.indexOf(t.bid)>-1}),s=this.$store.state.gvars.departments.filter(function(t){return 2==t.dpt_type||0==t.dpt_type||i.findIndex(function(e){return e.bid==t.bid})>-1}),a=[];return s.forEach(function(t){2==t.dpt_type&&(t.bids=[],a.push(t))}),s.forEach(function(e){1==e.dpt_type&&t(s,e.pid,a,e)}),a.filter(function(t){return t.bids.length>0})}},mounted:function(){this.init_data(),this.refreshSelId(this.selected)},methods:{pagesize:function(t){this.pageSize=t,this.init_data()},pagenation:function(t){this.pageIndex=t,this.init_data()},search:function(){/^\s*$/.test(this.search_field.branch_name)&&0==this.search_field.dpt_id||this.pagenation(1)},resetSearch:function(){this.search_field.branch_name="",this.search_field.dpt_id=0,this.init_data()},init_data:function(){var t=this,e=[],i=this.$store.state.gvars.branchs,s=void 0,a=void 0,l=void 0;if(!this.is_admin&&this.limitPer&&(i=i.filter(function(e){return t.bids_user.indexOf(e.bid)>-1})),/^\s*$/.test(this.search_field.branch_name)||(i=i.filter(function(e){return-1!==e.branch_name.indexOf(t.search_field.branch_name)})),this.search_field.dpt_id){var n=this.companys.find(function(e){return e.dpt_id==t.search_field.dpt_id});i=i.filter(function(t){return n.bids.findIndex(function(e){return e==t.bid})>-1})}this.totalCount=i.length,s=(this.pageIndex-1)*this.pageSize,a=s+this.pageSize,l=0,i.forEach(function(t){l>=s&&l<a&&e.push(r.b.copy(t)),l++}),this.data=e,this.refreshData(e)},getObjById:function(t){var e=this.$store.state.gvars.branchs.find(function(e){return e.bid==t});return e?r.b.copy(e):null},ok:function(){if(!this.selectedTotal)return void this.$Message.error("没有选中任何校区");if(this.multiple)this.$emit("on-select",this.selectedList);else{var t=this.$store.getters.getMapObject(this.selIds[0],"branch");this.$emit("on-select",t)}this.modalShow=!1,this.$emit("input",!1)},cancel:function(){var t=this;this.modalShow=!1,this.multiple?(this.selIds=[],this.selected.forEach(function(e){t.selIds.push(e)}),this.refreshData(this.data)):(this.selIds=[],this.selIds.push(this.selected),this.refreshData(this.data)),this.$emit("input",!1)},closeModal:function(){this.cancel()},clearSelectedId:function(){this.selIds.splice(0,this.selIds.length),this.refreshData(this.data)},cancelSelectedId:function(t){var e=this.selIds.indexOf(t.bid);-1!==e&&(this.selIds.splice(e,1),this.refreshData(this.data))},checkSelectAll:function(t,e,i){return-1!==this.selIds.indexOf(t.bid)},refreshData:function(t){var e=this;t.forEach(function(t){-1!==e.selIds.indexOf(t.bid)?t.$selected=!0:t.$selected=!1}),this.multiple&&(this.checkAll=t.every(this.checkSelectAll))},addSelectedId:function(t){-1===this.selIds.indexOf(t)&&(this.selIds.push(t),this.refreshData(this.data))},removeSelectedId:function(t){var e=this.selIds.indexOf(t);-1!==e&&(this.selIds.splice(e,1),this.refreshData(this.data))},replaceSelectedId:function(t){0==this.selIds.length?this.selIds.push(t):this.selIds.splice(0,1,t)},toggleSelected:function(t){this.multiple?t.$selected?this.removeSelectedId(t.bid):this.addSelectedId(t.bid):t.$selected?this.ok():(this.data.forEach(function(t){t.$selected=!1}),t.$selected=!0,this.replaceSelectedId(t.bid))},init_data_cache:function(){this.is_data_init||(this.init_data(),this.is_data_init=!0)},handleCheckAll:function(){var t=this;this.data.forEach(function(e){var i=t.selIds.indexOf(e.bid);!1===t.checkAll?-1==i&&(t.selIds.push(e.bid),e.$selected=!0):i>-1&&(t.selIds.splice(i,1),e.$selected=!1)})},refreshSelId:function(t){var e=this;null!==t&&0!==t.length&&""!==t&&0!==t||(this.selIds=[],this.refreshData(this.data)),this.multiple?t.forEach(function(t){-1==e.selIds.indexOf(t)&&e.selIds.push(t)}):0==this.selIds.length?this.selIds.push(t):this.selIds.splice(0,1,t)}},watch:{value:function(t){this.modalShow=t,this.modalShow?this.init_data_cache():""!=this.search_field.branch_name&&(this.search_field.branch_name="",this.is_data_init=!1)},selected:function(t){this.refreshSelId(t)}}}},708:function(t,e,i){"use strict";var s=i(54),a=i.n(s),l=i(627),n=i(338),o=(i(24),i(1),i(207)),r="ivu-select";e.a={name:"SelectBranch",mixins:[o.a],components:{SelectBranchModal:n.default},props:{value:{type:[String,Number,Array],default:""},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator:function(t){return Object(l.b)(t,["small","large","default"])}},notFoundText:{type:String},placement:{validator:function(t){return Object(l.b)(t,["top","bottom"])},default:"bottom"},limitPer:{type:Boolean,default:!0}},data:function(){return{prefixCls:r,modalShow:!1,options:[],optionsInstances:[],labelText:"",model:this.value}},created:function(){this.model=this.value,this.updateLabelText()},computed:{modalWidth:function(){return this.multiple?"900":"640"},multiple:function(){return!!Array.isArray(this.model)},classes:function(){var t;return["ivu-select",(t={},a()(t,"ivu-select-visible",this.visible),a()(t,"ivu-select-disabled",this.disabled),a()(t,"ivu-select-multiple",this.multiple),a()(t,"ivu-select-single",!this.multiple),a()(t,"ivu-select-show-clear",this.showCloseIcon),a()(t,"ivu-select-"+this.size,!!this.size),t)]},showPlaceholder:function(){var t=!1;return"string"==typeof this.model?""!==this.model&&"0"!==this.model||(t=!0):Array.isArray(this.model)?this.model.length||(t=!0):"number"==typeof this.model?0==this.model&&(t=!0):null===this.model&&(t=!0),t},localePlaceholder:function(){return void 0===this.placeholder?"请选择":this.placeholder},showCloseIcon:function(){return this.clearable&&!this.showPlaceholder}},methods:{openModal:function(){if(this.disabled)return!1;this.modalShow=!this.modalShow},updateSelected:function(t){var e=this;this.multiple?(this.model.length>0&&this.model.splice(0,this.model.length),t.forEach(function(t){e.model.push(t.bid)})):this.model=t.bid,this.updateLabelText(),this.$emit("input",this.model),this.dispatch("FormItem","on-form-change",this.model)},updateLabelText:function(){var t=this;this.multiple?this.model.length>0&&this.model[0]>0?this.$store.dispatch("getMapText",{id:this.model[0],name:"branch",idf:"bid",txf:"branch_name"}).then(function(e){var i=e;t.model.length>1&&(i+="等"+t.model.length+"个校区"),t.labelText=i}):this.labelText="":this.model?this.$store.dispatch("getMapText",{id:this.model,name:"branch",idf:"bid",txf:"branch_name"}).then(function(e){t.labelText=e}):this.labelText=""},clearSelected:function(){this.multiple?this.model.length>0&&this.model.splice(0,this.model.length):this.model=0,this.$emit("input",this.model),this.dispatch("FormItem","on-form-change",this.model)}},watch:{value:function(t){this.model=t,this.updateLabelText()}}}},767:function(t,e,i){"use strict";var s=i(708),a=i(772),l=i(11),n=l(s.a,a.a,!1,null,null,null);n.options.__file="src/views/components/SelectBranch.vue",e.a=n.exports},769:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{directives:[{name:"drag-modal",rawName:"v-drag-modal"}],attrs:{"mask-closable":!0,width:t.width,title:t.title},on:{"on-cancel":t.closeModal},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[i("div",{class:t.classes},[i("div",{staticClass:"list-main"},[i("div",{staticClass:"list-condition"},[i("Row",[i("Col",{attrs:{span:"8"}},[i("Input",{directives:[{name:"focusme",rawName:"v-focusme",value:"searchkey",expression:"'searchkey'"}],attrs:{placeholder:"校区名称",size:"small"},model:{value:t.search_field.branch_name,callback:function(e){t.$set(t.search_field,"branch_name",e)},expression:"search_field.branch_name"}})],1),t._v(" "),t.enable_company?i("Col",{staticStyle:{"margin-left":"10px"},attrs:{span:"8"}},[i("Select",{attrs:{placeholder:"分公司名称",size:"small"},model:{value:t.search_field.dpt_id,callback:function(e){t.$set(t.search_field,"dpt_id",e)},expression:"search_field.dpt_id"}},t._l(t.companys,function(e){return i("Option",{attrs:{value:e.dpt_id}},[t._v(t._s(e.dpt_name))])}))],1):t._e(),t._v(" "),i("Col",{attrs:{span:"6"}},[i("ButtonGroup",[i("Button",{attrs:{type:"primary",icon:"ios-search",size:"small"},on:{click:t.search}},[t._v("查询")])],1),t._v(" "),i("Button",{attrs:{type:"primary",icon:"refresh",size:"small"},on:{click:t.resetSearch}},[t._v("重置")])],1)],1)],1),t._v(" "),i("div",{staticClass:"list-body"},[i("div",{staticClass:"list-body-wrap"},[i("table",{staticClass:"table-list"},[i("thead",[i("tr",[t.multiple?i("th",{attrs:{width:"50"}},[i("div",{staticClass:"ivu-table-cell"},[i("Checkbox",{nativeOn:{click:function(e){t.handleCheckAll(e)}},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1)]):t._e(),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("校区")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("简称")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("电话")])]),t._v(" "),i("th",[i("div",{staticClass:"ivu-table-cell"},[t._v("地址")])])])]),t._v(" "),i("tbody",[t._l(t.data,function(e){return i("tr",{class:{"table-info":e.$selected},on:{click:function(i){t.toggleSelected(e)}}},[t.multiple?i("td",[i("div",{staticClass:"ivu-table-cell"},[i("Checkbox",{model:{value:e.$selected,callback:function(i){t.$set(e,"$selected",i)},expression:"item.$selected"}})],1)]):t._e(),t._v(" "),e?i("td",[i("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.branch_name))])]):t._e(),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.short_name))])]),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.branch_tel))])]),t._v(" "),i("td",[i("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.address))])])])}),t._v(" "),0==t.data.length?i("tr",[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[i("p",{staticClass:"empty"},[t._v("没有找到校区")])])]):t._e()],2)])]),t._v(" "),i("div",{staticClass:"list-page clearfix"},[i("Page",{staticClass:"pull-right",attrs:{size:"small",total:t.total,"show-total":!0,current:t.pageIndex,"show-sizer":!0,"page-size":t.pageSize},on:{"on-change":t.pagenation,"on-page-size-change":t.pagesize}})],1)])]),t._v(" "),this.multiple?i("div",{staticClass:"multi-selected"},[i("Card",[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v("已选择："),i("span",{staticClass:"badge"},[t._v(t._s(t.selectedTotal))])]),t._v(" "),i("Button",{staticClass:"pull-right",attrs:{type:"ghost",shape:"circle",size:"small",icon:"trash-a",title:"清空"},on:{click:t.clearSelectedId}})],1),t._v(" "),i("ul",{staticClass:"multi-selected-list"},t._l(t.selectedList,function(e){return i("li",[e?i("span",[t._v(t._s(e.branch_name))]):t._e(),t._v(" "),i("Button",{staticClass:"pull-right",attrs:{type:"ghost",shape:"circle",size:"small",icon:"trash-a",title:"移除"},on:{click:function(i){t.cancelSelectedId(e)}}})],1)}))])],1):t._e()]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[t.multiple?t._e():i("span",{staticClass:"footer-selected pull-left"},[i("i",[t._v("已选择:")]),t._v(t._s(t.labelText))]),t._v(" "),i("Button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确定")])],1)])},a=[];s._withStripped=!0;var l={render:s,staticRenderFns:a};e.a=l},772:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes},[i("div",{ref:"reference",class:[t.prefixCls+"-selection"],on:{click:t.openModal}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder,expression:"showPlaceholder"}],class:[t.prefixCls+"-placeholder"]},[t._v(t._s(t.localePlaceholder))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.showPlaceholder,expression:"!showPlaceholder"}],class:[t.prefixCls+"-selected-value"]},[t._v(t._s(t.labelText))]),t._v(" "),t.showCloseIcon?i("Icon",{class:[t.prefixCls+"-arrow"],attrs:{type:"ios-close"},nativeOn:{click:function(e){e.stopPropagation(),t.clearSelected(e)}}}):t._e(),t._v(" "),i("Icon",{class:[t.prefixCls+"-arrow"],attrs:{type:"arrow-down-b"}})],1),t._v(" "),i("select-branch-modal",{attrs:{multiple:t.multiple,selected:t.model,width:t.modalWidth,"limit-per":t.limitPer},on:{"on-select":t.updateSelected},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}})],1)},a=[];s._withStripped=!0;var l={render:s,staticRenderFns:a};e.a=l}});