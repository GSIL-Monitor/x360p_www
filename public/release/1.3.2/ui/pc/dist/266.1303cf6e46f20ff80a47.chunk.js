webpackJsonp([266],{1653:function(t,a,s){"use strict";var e=s(0),n=s.n(e),i=s(1),c=s(209);a.a={mixins:[c.a],data:function(){return{tab:1,editing:!1,info:{operation_cost_percent:5,calc1:{rent:1e4,teacher_nums:2,teacher_salary:3e3,consume_nums:3,consume_salary:2500,market_nums:1,market_salary:2500,year_student_nums:135},calc2:{student_goal:60,market_start_day:"2018-09-01",market_end_day:"2018-10-31",sale_start_day:"2018-10-01",sale_end_day:"2019-01-01",unit_price:60,unit_nums:96,sign_rate:4,trial_rate:30,arrive_rate:80,branch_average_student:15}}}},computed:{date1:function(){return[this.info.calc2.market_start_day,this.info.calc2.market_end_day]},date2:function(){return[this.info.calc2.sale_start_day,this.info.calc2.sale_end_day]},personnelCost:function(){var t=this.info.calc1;return t.teacher_nums*t.teacher_salary+t.consume_nums*t.consume_salary+t.market_nums*t.market_salary+this.yearAccount/20/12},yearAccount:function(){var t=this.info.calc1,a=this.info.calc2;return t.year_student_nums*a.unit_price*a.unit_nums},marketDays:function(){var t=this.info.calc2;return this.getNetWorkDays(t.market_start_day,t.market_end_day)},saleDays:function(){var t=this.info.calc2;return this.getNetWorkDays(t.sale_start_day,t.sale_end_day)},marketAndConsumes:function(){var t=this.info.calc1;return t.market_nums+t.consume_nums},maxRent:function(){return this.yearAccount/4/12},maxPersonnelCost:function(){return this.yearAccount/100*40/12},averageSalary:function(){var t=this.info.calc1;return parseFloat(this.personnelCost/(t.teacher_nums+t.consume_nums+t.market_nums)).toFixed(2)},balancePayments:function(){var t=this.info.calc1,a=this.info.calc2;return Math.round((t.rent+this.personnelCost)/(a.unit_price*a.unit_nums))},rentPercent:function(){var t=this.info.calc1;return Math.round(12*t.rent/this.yearAccount*100)},personPercent:function(){return Math.round(12*this.personnelCost/this.yearAccount*100)},netProfitPersent:function(){return 100-this.rentPercent-this.personPercent-this.info.operation_cost_percent},validCustomerList:function(){var t=this.info.calc2;return t.student_goal/t.sign_rate*100},dayCustomerNums:function(){return Math.round(this.validCustomerList/this.marketAndConsumes/this.marketDays)},promiseArriveNums:function(){var t=this.info.calc2;return Math.ceil(this.trialNums/t.arrive_rate*100)},trialNums:function(){var t=this.info.calc2;return Math.ceil(t.student_goal/t.trial_rate*100)}},methods:{getNetWorkDays:function(t,a){for(var s=i.b.dateDiff(t,a),e=0,c=0;c<=s;c++){var l=n()(t).add("days",c).format("YYYY-MM-DD");i.b.get_week_day(new Date(l))<6&&e++}return e},changeTab:function(t){this.tab=t},dateChange:function(t,a){"market"==a?(this.info.calc2.market_start_day=t[0],this.info.calc2.market_end_day=t[1]):(this.info.calc2.sale_start_day=t[0],this.info.calc2.sale_end_day=t[1])}}}},2278:function(t,a){},2279:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("Modal",{directives:[{name:"drag-modal",rawName:"v-drag-modal"}],attrs:{title:t.modal$.title,"mask-closable":!1,width:850},model:{value:t.modal$.show,callback:function(a){t.$set(t.modal$,"show",a)},expression:"modal$.show"}},[s("div",{staticClass:"mt-0 mb-3 p-2 text-center"},[s("ButtonGroup",{staticClass:"ml-3"},[s("Button",{attrs:{type:1==t.tab?"primary":"ghost"},on:{click:function(a){t.changeTab(1)}}},[t._v("风控建议")]),t._v(" "),s("Button",{attrs:{type:2==t.tab?"primary":"ghost"},on:{click:function(a){t.changeTab(2)}}},[t._v("预售期目标")])],1)],1),t._v(" "),s("div",{staticClass:"x-form-title"},[t._v("\n\t\t数据填写\n\t")]),t._v(" "),s("Form",{staticClass:"row",attrs:{"label-width":160}},[1==t.tab?[s("Form-item",{staticClass:"col-md-5 mb-2",attrs:{label:"租金："}},[s("InputNumber",{attrs:{step:1,min:0},model:{value:t.info.calc1.rent,callback:function(a){t.$set(t.info.calc1,"rent",a)},expression:"info.calc1.rent"}}),t._v(" 元/月\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"市场人员数量："}},[s("InputNumber",{attrs:{min:0,step:1},model:{value:t.info.calc1.market_nums,callback:function(a){t.$set(t.info.calc1,"market_nums",a)},expression:"info.calc1.market_nums"}}),t._v(" 名\n\t\t\t\t"),s("InputNumber",{staticClass:"ml-3",attrs:{step:1,min:0},model:{value:t.info.calc1.market_salary,callback:function(a){t.$set(t.info.calc1,"market_salary",a)},expression:"info.calc1.market_salary"}}),t._v(" 元/月\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-5 mb-2",attrs:{label:"年会员预期数："}},[s("InputNumber",{attrs:{min:0,step:1},model:{value:t.info.calc1.year_student_nums,callback:function(a){t.$set(t.info.calc1,"year_student_nums",a)},expression:"info.calc1.year_student_nums"}}),t._v(" 名\t\t\t\t\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"教师数量："}},[s("InputNumber",{attrs:{step:1,min:0},model:{value:t.info.calc1.teacher_nums,callback:function(a){t.$set(t.info.calc1,"teacher_nums",a)},expression:"info.calc1.teacher_nums"}}),t._v(" 名\n\t\t\t\t"),s("InputNumber",{staticClass:"ml-3",attrs:{step:1,min:0},model:{value:t.info.calc1.teacher_salary,callback:function(a){t.$set(t.info.calc1,"teacher_salary",a)},expression:"info.calc1.teacher_salary"}}),t._v(" 元/月\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-5 mb-0",attrs:{label:""}}),t._v(" "),s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"顾问数量："}},[s("InputNumber",{attrs:{min:0,step:1},model:{value:t.info.calc1.consume_nums,callback:function(a){t.$set(t.info.calc1,"consume_nums",a)},expression:"info.calc1.consume_nums"}}),t._v(" 名\t\t\n\t\t\t\t"),s("InputNumber",{staticClass:"ml-3",attrs:{step:1,min:0},model:{value:t.info.calc1.consume_salary,callback:function(a){t.$set(t.info.calc1,"consume_salary",a)},expression:"info.calc1.consume_salary"}}),t._v(" 元/月\n\t\t\t")],1)]:t._e(),t._v(" "),2==t.tab?[s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"招生人数目标："}},[s("InputNumber",{attrs:{step:1,min:1},model:{value:t.info.calc2.student_goal,callback:function(a){t.$set(t.info.calc2,"student_goal",a)},expression:"info.calc2.student_goal"}}),t._v(" 个会员\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-5 mb-2",attrs:{label:"主推套餐："}},[s("InputNumber",{attrs:{step:1,min:1},model:{value:t.info.calc2.unit_nums,callback:function(a){t.$set(t.info.calc2,"unit_nums",a)},expression:"info.calc2.unit_nums"}}),t._v(" 课时\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"市场预热期："}},[s("DatePicker",{staticStyle:{width:"180px"},attrs:{value:t.date1,type:"daterange",placement:"bottom-end",placeholder:"选择日期"},on:{"on-change":function(a){t.dateChange(a,"market")}}}),t._v(" "),s("span",{staticClass:"text-info"},[t._v(t._s(t.marketDays)+" 个工作日")])],1),t._v(" "),s("Form-item",{staticClass:"col-md-5 mb-2",attrs:{label:"单课时成交单价："}},[s("InputNumber",{attrs:{step:1,min:1},model:{value:t.info.calc2.unit_price,callback:function(a){t.$set(t.info.calc2,"unit_price",a)},expression:"info.calc2.unit_price"}}),t._v(" 元/课时\n\t\t\t")],1),t._v(" "),s("Form-item",{staticClass:"col-md-7 mb-2",attrs:{label:"预售期："}},[s("DatePicker",{staticStyle:{width:"180px"},attrs:{value:t.date2,type:"daterange",placement:"bottom-end",placeholder:"选择日期"},on:{"on-change":function(a){t.dateChange(a,"sale")}}}),t._v(" "),s("span",{staticClass:"text-info"},[t._v(t._s(t.saleDays)+" 个工作日")])],1),t._v(" "),s("Form-item",{staticClass:"col-md-5 mb-2",attrs:{label:""}}),t._v(" "),s("div",{staticClass:"x-divider"}),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"市场、顾问数量：","label-width":160}},[s("span",{staticClass:"text-info"},[t._v("4")]),t._v(" 名\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-8 mb-0",attrs:{label:""}},[s("Button",{staticClass:"pull-right mr-3",attrs:{title:"修改基础参数",type:"ghost",size:"small",icon:t.editing?"checkmark":"edit"},on:{click:function(a){t.editing=!t.editing}}})],1),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"名单签约率：","label-width":160}},[t.editing?[s("InputNumber",{staticClass:"x-input-number",attrs:{step:1,min:1},model:{value:t.info.calc2.sign_rate,callback:function(a){t.$set(t.info.calc2,"sign_rate",a)},expression:"info.calc2.sign_rate"}}),t._v(" %\n\t\t\t\t")]:s("span",{staticClass:"text-info"},[t._v(t._s(t.info.calc2.sign_rate)+" %")])],2),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"试听课转化率：","label-width":160}},[t.editing?[s("InputNumber",{staticClass:"x-input-number",attrs:{step:1,min:1},model:{value:t.info.calc2.trial_rate,callback:function(a){t.$set(t.info.calc2,"trial_rate",a)},expression:"info.calc2.trial_rate"}}),t._v(" %\n\t\t\t\t")]:s("span",{staticClass:"text-info"},[t._v(t._s(t.info.calc2.trial_rate)+" %")])],2),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"邀约到店率：","label-width":160}},[t.editing?[s("InputNumber",{staticClass:"x-input-number",attrs:{step:1,min:1},model:{value:t.info.calc2.arrive_rate,callback:function(a){t.$set(t.info.calc2,"arrive_rate",a)},expression:"info.calc2.arrive_rate"}}),t._v(" %\n\t\t\t\t")]:s("span",{staticClass:"text-info"},[t._v(t._s(t.info.calc2.arrive_rate)+" %")])],2)]:t._e()],2),t._v(" "),s("div",{staticClass:"x-form-title"},[t._v("\n\t\t计算结果\n\t")]),t._v(" "),s("Form",{staticClass:"row",attrs:{"label-width":160}},[1==t.tab?[s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"年总流水预期："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.yearAccount))]),t._v(" 元/年\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"租金上限："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.maxRent))]),t._v(" 元/月\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"收支平衡点："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.balancePayments))]),t._v(" 个会员/月\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"人员成本："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.personnelCost))]),t._v(" 元/月\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"人员成本上限："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.maxPersonnelCost))]),t._v(" 元/月\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"员工平均月收入："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.averageSalary))]),t._v(" 元/月\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"场地租金："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.rentPercent)+" %")])]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"人员成本："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.personPercent)+" %")])]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"运营成本："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.info.operation_cost_percent)+" %")])]),t._v(" "),s("Form-item",{staticClass:"col-md-4 mb-2",attrs:{label:"毛利："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.netProfitPersent)+" %")])])]:t._e(),t._v(" "),2==t.tab?[s("Form-item",{staticClass:"col-md-6 mb-2",attrs:{label:"有效名单总数量："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.validCustomerList))]),t._v(" 个\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-6 mb-2",attrs:{label:"员工日获取名单量："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.dayCustomerNums))]),t._v(" 个名单/工作日/人\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-6 mb-2",attrs:{label:"诺到数量："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.promiseArriveNums))]),t._v(" 个（承诺参加试听）\n\t\t\t")]),t._v(" "),s("Form-item",{staticClass:"col-md-6 mb-2",attrs:{label:"实际到店试听数量："}},[s("span",{staticClass:"text-info"},[t._v(t._s(t.trialNums))]),t._v(" 个（实际参加试听）\n\t\t\t")])]:t._e()],2),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"ghost"},on:{click:t.close}},[t._v("关闭")])],1)],1)},n=[];e._withStripped=!0;var i={render:e,staticRenderFns:n};a.a=i},447:function(t,a,s){"use strict";function e(t){c||s(2278)}Object.defineProperty(a,"__esModule",{value:!0});var n=s(1653),i=s(2279),c=!1,l=s(11),r=e,o=l(n.a,i.a,!1,r,"data-v-00e69db2",null);o.options.__file="src/views/app/modal/operation-calculator-modal.vue",a.default=o.exports}});