webpackJsonp([26],{294:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s(374),n=s(400),a=s(16),o=a(e.a,n.a,!1,null,null,null);o.options.__file="src/views/business/clients/modify-modal.vue",i.default=o.exports},374:function(t,i,s){"use strict";var e=s(0),n=s.n(e),a=s(5),o=s(198),l=s(199);i.a={mixins:[l.a,o.a],data:function(){return{info:{}}},methods:{setInfo:function(t){return this.info=a.a.copy(t),this.info.expire_day=this.$filter("int_date")(this.info.expire_day),this},cancel:function(){this.close(),this.info={},this.$form("form").reset()},ok:function(){var t=this,i=["host","account_num_limit","student_num_limit","branch_num_limit","is_org_open","expire_day","init_amount","student_price","account_price","init_renew_amount","is_init_pay"],s={};i.forEach(function(i){s[i]=t.info[i]}),s.expire_day=n()(s.expire_day).format("YYYYMMDD"),this.$rest("clients").add_url_param(this.info.cid).put(s).success(function(i){t.$Message.success("修改成功!"),t.$emit("on-success"),t.close()}).error(function(i){t.$Message.error(i.body.message)})}}}},400:function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("Modal",{directives:[{name:"drag-modal",rawName:"v-drag-modal"}],attrs:{title:t.modal$.title,width:"800","mask-closable":!1},model:{value:t.modal$.show,callback:function(i){t.$set(t.modal$,"show",i)},expression:"modal$.show"}},[s("Form",{ref:"form",attrs:{"label-width":70,model:t.info}},[s("Form-item",{attrs:{label:"客户名",prop:"client_name"}},[s("span",[t._v(t._s(t.info.client_name))])]),t._v(" "),s("div",{staticClass:"row"},[s("Form-item",{staticClass:"col-sm-6",attrs:{label:"二级域名",prop:"host"}},[s("span",[t._v(t._s(t.info.host))])])],1),t._v(" "),s("div",{staticClass:"row"},[s("Form-item",{staticClass:"col-sm-4",attrs:{label:"账号数",prop:"account_num_limit"}},[s("InputNumber",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.info.account_num_limit,callback:function(i){t.$set(t.info,"account_num_limit",i)},expression:"info.account_num_limit"}})],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"学员数",prop:"student_num_limit"}},[s("InputNumber",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.info.student_num_limit,callback:function(i){t.$set(t.info,"student_num_limit",i)},expression:"info.student_num_limit"}})],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"校区数",prop:"branch_num_limit"}},[s("InputNumber",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:t.info.branch_num_limit,callback:function(i){t.$set(t.info,"branch_num_limit",i)},expression:"info.branch_num_limit"}})],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("Form-item",{staticClass:"col-sm-6",attrs:{label:"加盟商",prop:"init_amount"}},[s("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.info.is_org_open,callback:function(i){t.$set(t.info,"is_org_open",i)},expression:"info.is_org_open"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("开通")]),t._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("不开通")])])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("Form-item",{staticClass:"col-sm-4",attrs:{label:"到期时间",prop:"expire_day"}},[s("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.info.expire_day,callback:function(i){t.$set(t.info,"expire_day",i)},expression:"info.expire_day"}})],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"成交金额",prop:"init_amount"}},[s("Input",{model:{value:t.info.init_amount,callback:function(i){t.$set(t.info,"init_amount",i)},expression:"info.init_amount"}},[s("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"是否付款",prop:"init_amount"}},[s("i-switch",{attrs:{size:"large","true-value":1,"false-value":0},model:{value:t.info.is_init_pay,callback:function(i){t.$set(t.info,"is_init_pay",i)},expression:"info.is_init_pay"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("已付款")]),t._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("未付款")])])],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("Form-item",{staticClass:"col-sm-4",attrs:{label:"学员单价",prop:"student_price"}},[s("Input",{model:{value:t.info.student_price,callback:function(i){t.$set(t.info,"student_price",i)},expression:"info.student_price"}},[s("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/年")])])],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"账号单价",prop:"account_price"}},[s("Input",{model:{value:t.info.account_price,callback:function(i){t.$set(t.info,"account_price",i)},expression:"info.account_price"}},[s("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/年")])])],1),t._v(" "),s("Form-item",{staticClass:"col-sm-4",attrs:{label:"年费金额",prop:"init_renew_amount"}},[s("Input",{model:{value:t.info.init_renew_amount,callback:function(i){t.$set(t.info,"init_renew_amount",i)},expression:"info.init_renew_amount"}},[s("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1)],1)],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"ghost"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),s("Button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确定")])],1)],1)},n=[];e._withStripped=!0;var a={render:e,staticRenderFns:n};i.a=a}});