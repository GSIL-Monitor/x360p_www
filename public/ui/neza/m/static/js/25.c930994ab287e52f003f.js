webpackJsonp([25],{JUBL:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("x-table",{attrs:{height:t.tableHeight,width:"100%",border:!1,columns:t.columns,data:t.data}}),t._v(" "),n("div",{staticClass:"pd-10 text-center"},[n("x-page",{attrs:{total:t.total,current:t.pageIndex,"page-size":t.pageSize,"show-total":!0},on:{"on-change":t.pagenation}})],1)],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},Sf41:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("+6Lo"),r=a(i),o=n("S9nr"),s=a(o),l=n("o+C2"),u=a(l),d=n("nPWc"),c=a(d),f=n("EBxd"),p=a(f);e.default={mixins:[r.default],components:{XTable:c.default,Datetime:s.default,PopupPicker:u.default,SelectBranch:p.default},data:function(){return{popupShow:!1,filter:["report_performances"],filterList:[{name:"签单业绩汇总",value:"report_performances"},{name:"回款业绩汇总",value:"report_performances/employee_receipts"}]}}}},Vau1:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("+VlJ"),r=(a(i),n("VD+p")),o=a(r),s=n("TVG1"),l=a(s),u=n("8Llf"),d=a(u),c=n("KUj2"),f=a(c),p=n("m1Gx"),h=a(p),_=n("9pan"),m=a(_);e.default={mixins:[d.default,f.default],components:{XTable:h.default,XPage:m.default},props:{bids:{type:Array,default:[]},group:{type:String,default:"report_performances"},yearMonth:{type:String,default:(0,o.default)(new Date).format("YYYY-MM")}},data:function(){return{data:[],total:0,pageIndex:1,pageSize:10}},watch:{bids:function(t){this.init_data()},group:function(t){this.pagenation(1)},yearMonth:function(t){this.pagenation(1)}},mounted:function(){this.init_data()},methods:{pagenation:function(t){this.pageIndex=t,this.init_data()},init_data:function(){var t=this,e={page:this.pageIndex,pagesize:this.pageSize};this.showLoading(),this.$rest(this.data_uri).get(e).success(function(e){t.data=e.list,t.total=e.total,t.pageSize=parseInt(e.pagesize),t.loadFinished()})},loadFinished:function(){var t=this,e=this.data;e&&e.length>0&&e.push({column_total:!0}),setTimeout(function(){t.hideLoading()},300)},getTotal:function(t,e){var n=this.data,a=0;return n&&n.length>0&&(n.forEach(function(t){t[e]&&(a+=Number(t[e]))}),s._.isNumber(n[n.length-2][e])||(a=parseFloat(a).toFixed(2))),t("span",{class:"text-danger"},a)}},computed:{tableHeight:function(){return(window.innerHeight||document.innerHeight)-(101+this.headerHeight)},columns:function(){var t=this,e=[],n={title:"工号",key:"eid",width:100},a={title:"姓名",key:"ename",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":t.$filter("ename")(n.row.eid)}},i={title:"签单角色",key:"sale_role_did",width:120,render:function(e,n){return t.labelDicts(n.row.sale_role_did,"sale_role")}},r={title:"签单金额",key:"total_amount",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"total_amount"):n.row.total_amount}};return"report_performances/employee_receipts"==this.group&&(i.title="回款角色",r.title="回款金额"),e.push(a,n,i,r),e},data_uri:function(){var t=(0,o.default)(this.yearMonth+"-01").format("YYYYMMDD"),e=(0,o.default)(this.yearMonth+"-"+(0,o.default)(this.yearMonth).daysInMonth()).format("YYYYMMDD"),n=this.group,a="";return this.bids.length&&(a=l.default.sprintf("&bid=[In,%s]",this.bids.join(","))),l.default.sprintf("%s?group=eid,sale_role_did&create_time=[between,%s,%s]%s",n,t,e,a)}}}},hPqh:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white height-full"},[n("div",{staticClass:"x-header"},[n("span",{staticClass:"icon icon-ios-arrow-left",on:{click:t.preMonth}}),t._v(" "),n("datetime",{attrs:{format:"YYYY-MM","max-year":t.maxYear},model:{value:t.yearMonth,callback:function(e){t.yearMonth=e},expression:"yearMonth"}},[n("span",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),n("span",{staticClass:"icon icon-ios-arrow-right",on:{click:t.nextMonth}}),t._v(" "),n("div",{staticClass:"x-header-filter",on:{click:function(e){t.popupShow=!0}}},[n("i",{staticClass:"icon icon-funnel"}),t._v("\n\t\t\t"+t._s(t.$refs.filter?t.$refs.filter.getNameValues():"签单业绩汇总")+"\n\t\t")])],1),t._v(" "),n("select-branch",{model:{value:t.bids,callback:function(e){t.bids=e},expression:"bids"}}),t._v(" "),n("x-table",{attrs:{bids:t.bids,"year-month":t.yearMonth,group:t.filter[0]}}),t._v(" "),n("popup-picker",{ref:"filter",attrs:{show:t.popupShow,"show-cell":!1,columns:1,data:t.filterList},on:{"update:show":function(e){t.popupShow=e}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},nPWc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("tCH8");n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);var r=n("Vau1"),o=n.n(r),s=n("JUBL"),l=n("C7Lr"),u=l(o.a,s.a,!1,null,null,null);e.default=u.exports},tCH8:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("+VlJ"),r=(a(i),n("VD+p")),o=a(r),s=n("TVG1"),l=a(s),u=n("8Llf"),d=a(u),c=n("KUj2"),f=a(c),p=n("m1Gx"),h=a(p),_=n("9pan"),m=a(_);e.default={mixins:[d.default,f.default],components:{XTable:h.default,XPage:m.default},props:{bids:{type:Array,default:[]},group:{type:String,default:"report_performances"},yearMonth:{type:String,default:(0,o.default)(new Date).format("YYYY-MM")}},data:function(){return{data:[],total:0,pageIndex:1,pageSize:10}},watch:{bids:function(t){this.init_data()},group:function(t){this.pagenation(1)},yearMonth:function(t){this.pagenation(1)}},mounted:function(){this.init_data()},methods:{pagenation:function(t){this.pageIndex=t,this.init_data()},init_data:function(){var t=this,e={page:this.pageIndex,pagesize:this.pageSize};this.showLoading(),this.$rest(this.data_uri).get(e).success(function(e){t.data=e.list,t.total=e.total,t.pageSize=parseInt(e.pagesize),t.loadFinished()})},loadFinished:function(){var t=this,e=this.data;e&&e.length>0&&e.push({column_total:!0}),setTimeout(function(){t.hideLoading()},300)},getTotal:function(t,e){var n=this.data,a=0;return n&&n.length>0&&(n.forEach(function(t){t[e]&&(a+=Number(t[e]))}),s._.isNumber(n[n.length-2][e])||(a=parseFloat(a).toFixed(2))),t("span",{class:"text-danger"},a)}},computed:{tableHeight:function(){return(window.innerHeight||document.innerHeight)-(101+this.headerHeight)},columns:function(){var t=this,e=[],n={title:"工号",key:"eid",width:100},a={title:"姓名",key:"ename",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":t.$filter("ename")(n.row.eid)}},i={title:"签单角色",key:"sale_role_did",width:120,render:function(e,n){return t.labelDicts(n.row.sale_role_did,"sale_role")}},r={title:"签单金额",key:"total_amount",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"total_amount"):n.row.total_amount}};return"report_performances/employee_receipts"==this.group&&(i.title="回款角色",r.title="回款金额"),e.push(a,n,i,r),e},data_uri:function(){var t=(0,o.default)(this.yearMonth+"-01").format("YYYYMMDD"),e=(0,o.default)(this.yearMonth+"-"+(0,o.default)(this.yearMonth).daysInMonth()).format("YYYYMMDD"),n=this.group,a="";return this.bids.length&&(a=l.default.sprintf("&bid=[In,%s]",this.bids.join(","))),l.default.sprintf("%s?group=eid,sale_role_did&create_time=[between,%s,%s]%s",n,t,e,a)}}}},thTM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("y2mR");n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);var r=n("Sf41"),o=n.n(r),s=n("hPqh"),l=n("C7Lr"),u=l(o.a,s.a,!1,null,null,null);e.default=u.exports},y2mR:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("+6Lo"),r=a(i),o=n("S9nr"),s=a(o),l=n("o+C2"),u=a(l),d=n("nPWc"),c=a(d),f=n("EBxd"),p=a(f);e.default={mixins:[r.default],components:{XTable:c.default,Datetime:s.default,PopupPicker:u.default,SelectBranch:p.default},data:function(){return{popupShow:!1,filter:["report_performances"],filterList:[{name:"签单业绩汇总",value:"report_performances"},{name:"回款业绩汇总",value:"report_performances/employee_receipts"}]}}}}});
//# sourceMappingURL=25.c930994ab287e52f003f.js.map