webpackJsonp([4],{"1USH":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"x-reply-page",style:{height:"calc(100% - "+t.headerHeight+"px)"}},[n("group",{attrs:{title:"完成的作业"}},[t.homework.student?n("div",{staticClass:"homework-header"},[n("div",{staticClass:"header-left avatar avatar-xs"},[n("img",{attrs:{src:t.homework.student.photo_url},on:{error:t.imgLoadError}})]),t._v(" "),n("div",{staticClass:"header-right"},[n("p",{staticClass:"name"},[t._v(t._s(t.homework.student.student_name))]),t._v(" "),n("p",{staticClass:"time"},[t._v(t._s(t.homework.create_time))])])]):t._e(),t._v(" "),n("div",{staticClass:"pd-10 homework-content",domProps:{innerHTML:t._s(t.homework.content)}}),t._v(" "),n("file-item",{attrs:{list:t.homework.homework_attachment}})],1),t._v(" "),n("group",{attrs:{title:"作业回复"}},["add"==t.mode?[n("x-textarea",{attrs:{placeholder:"请输入作业回复"},model:{value:t.info.content,callback:function(e){t.$set(t.info,"content",e)},expression:"info.content"}})]:[n("div",{staticClass:"bg-white pd-10 homework-content",domProps:{innerHTML:t._s(t.homework.homework_reply.content)}}),t._v(" "),n("file-item",{attrs:{list:t.homework.homework_reply.homework_attachment}})]],2),t._v(" "),"add"==t.mode?n("group",{attrs:{title:"作业附件"}},[n("select-file",{attrs:{count:9},model:{value:t.info.homework_attachment,callback:function(e){t.$set(t.info,"homework_attachment",e)},expression:"info.homework_attachment"}})],1):t._e(),t._v(" "),"add"!==t.mode?n("group",{attrs:{title:"作业发表"}},[n("cell",{attrs:{title:"发表作业","is-link":!t.homework.is_publish,value:t.homework.is_publish?"已发表":""},nativeOn:{click:function(e){return t.publish(e)}}}),t._v(" "),n("cell",{attrs:{title:"添加到作品册","is-link":!t.homework.sart_id,value:t.homework.sart_id?"已添加":""},nativeOn:{click:function(e){return t.addToArtwork(e)}}})],1):t._e(),t._v(" "),n("div",{staticClass:"pd-10"},["add"==t.mode?n("x-button",{staticClass:"x-btn btn-bg-theme",attrs:{type:"primary"},nativeOn:{click:function(e){return t.ok(e)}}},[t._v("提交")]):t._e(),t._v(" "),n("x-button",{staticClass:"x-btn",attrs:{type:"default"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("返回")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},"2NU8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{currentValue:this.value}}}},"3vMG":function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n.vux-checker-item {\n  display: inline-block;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/node_modules/_vux@2.9.2@vux/src/components/checker/checker.vue"],names:[],mappings:";AACA;EACE,sBAAsB;CACvB",file:"checker.vue",sourcesContent:["\n.vux-checker-item {\n  display: inline-block;\n}\n"],sourceRoot:""}])},"6mnE":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("KUj2"),d=i(u),h=n("5d4z"),f=i(h),m=n("99El"),p=i(m),_=n("1cP3"),v=i(_),b=n("jbqM"),k=i(b),w=n("+CBI"),g=i(w),C=n("fvyU"),A=i(C),x=n("IXui"),y=i(x),$=n("RAwi"),B=i($),I=n("cTn1"),E=i(I),T=n("CKVb"),V=i(T),O=n("gpPJ"),P=i(O),j=n("5CvF"),F=i(j),R=n("4rfY"),S=i(R),M=n("Jp5S"),z=i(M),X={art_name:"",cid:0,bid:0,sid:0,eid:0,art_desc:"",student_artwork_attachment:[]};e.default={mixins:[c.default,d.default,r.default],directives:{TransferDom:z.default},props:{isHomework:{type:Boolean,default:!1},zIndex:{type:Number,default:501}},components:{Tag:p.default,upload:f.default,Popup:E.default,Group:V.default,Cell:P.default,XInput:A.default,ISwitch:g.default,XTextarea:B.default,Flexbox:F.default,XButton:y.default,SelectFile:k.default,FlexboxItem:S.default,SelectStudent:v.default},data:function(){return{info:o.default.copy(X),tags:[],is_class_collect:!0}},watch:{is_class_collect:function(t){this.info.cid=t?this.info._cid:0,console.log("cid"),console.log(this.info.cid)}},computed:{style:function(){return{top:this.headerHeight+"px",zIndex:this.zIndex}}},methods:{ok:function(){var t=this;if(this.check()){var e=o.default.copy(this.info);e.bid=this.bid$[0],e.student_artwork_attachment=this.uploadList,e.eid=this.eid$,this.$rest("student_artworks").post(e).success(function(e){t.toast("添加成功！","success"),t.$emit("on-success"),t.close()}).error(function(e){t.toast(e.body.message||"操作失败","warn")})}},check:function(){var t=this.info;return 0==t.sid?(this.toast("请选择学员","warn"),!1):/^\s*$/.test(t.art_name)?(this.toast("请输入作品名称","warn"),!1):!/^\s*$/.test(t.art_desc)||(this.toast("请输入作品介绍","warn"),!1)}}}},"7erR":function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\ni.icon-ios-circle-filled,i.icon-ios-circle-outline{\n\tfont-size: 1.1em;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/src/views/home/homework/add-publish.vue"],names:[],mappings:";AACA;CACC,iBAAiB;CACjB",file:"add-publish.vue",sourcesContent:["\ni.icon-ios-circle-filled,i.icon-ios-circle-outline{\n\tfont-size: 1.1em;\n}\n"],sourceRoot:""}])},"88iE":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("8Llf"),r=i(a),l=n("b+iO"),c=i(l),u=n("jbqM"),d=i(u),h=n("99El"),f=i(h),m=n("j108"),p=i(m),_=n("inDh"),v=i(_),b=n("RAwi"),k=i(b),w=n("f/tg"),g=i(w),C=n("IXui"),A=i(C),x=n("5CvF"),y=i(x),$=n("4rfY"),B=i($),I=n("CKVb"),E=i(I),T=n("gpPJ"),V=i(T),O={hc_id:0,eid:0,content:"",result_level:0,check_level:2,homework_attachment:[]};e.default={mixins:[r.default],components:{Tag:f.default,Tab:p.default,Cell:V.default,Rater:g.default,Group:E.default,XButton:A.default,TabItem:v.default,XTextarea:k.default,Flexbox:y.default,FileItem:c.default,FlexboxItem:B.default,SelectFile:d.default},props:{mode:{type:String,default:"add"},hcId:{type:[String,Number],default:0},homework:{type:Object,default:function(){return{}}}},data:function(){return{tab_index:0,tab_list:["精批","普批"],standard_levels:[{id:4,name:"A"},{id:3,name:"B"},{id:2,name:"C"},{id:1,name:"D"}],normal_levels:[{id:10,name:"A+"},{id:9,name:"A"},{id:8,name:"A-"},{id:7,name:"B+"},{id:6,name:"B"},{id:5,name:"B-"},{id:4,name:"C+"},{id:3,name:"C"},{id:2,name:"C-"},{id:1,name:"D"}],info:o.default.copy(O)}},methods:{publish:function(){this.$emit("on-publish")},addToArtwork:function(){this.$emit("add-artwork")},submit_correct:function(){var t=this;this.info.check_level=this.tab_index+1,this.info.hc_id=this.hcId,this.info.eid=this.eid$,this.info.bid=this.homework.bid,console.log("INFO"),console.log(o.default.copy(this.info)),this.$rest("homework_completes/"+this.hcId+"/homework_reply").post(this.info).success(function(e){t.toast("提交成功","success"),t.$emit("on-success"),t.cancel()}).error(function(e){t.toast(e.body.message||"提交失败","warn")})},cancel:function(){this.$emit("close")}},computed:{level_img:function(){var t=[{1:"A",2:"B",3:"C",4:"D"},this.homework,"/assets/images/A.png"],e=t[0],n=t[1],i=t[2],s={1:"A+",2:"A",3:"A-",4:"B+",5:"B",6:"B-",7:"C+",8:"C",9:"C-",10:"D"};return 1===n.is_check&&(i=2===n.check_level?"/static/img/neza/org/"+s[n.result_level]+".png":"/static/img/neza/org/"+e[n.result_level]+".png"),i},disabled:function(){return 0===this.info.result_level||0===this.info.content.length},levels:function(){var t=[this.data,this.standard_levels,this.normal_levels],e=t[1],n=t[2];return 0==this.tab_index?n:e}}}},AsuT:function(t,e,n){var i=n("7erR");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("39e92d3e",i,!0,{})},AzbV:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popup",{style:{top:t.headerHeight+"px"},attrs:{width:"100%",position:"right",height:"100%"},model:{value:t.modal$.show,callback:function(e){t.$set(t.modal$,"show",e)},expression:"modal$.show"}},[t.professionalMode?n("reply-professional",{attrs:{mode:t.mode,"hc-id":t.hc_id,homework:t.homework_complete},on:{close:t.close,"on-success":t.handleSuccess,"add-artwork":t.addToArtwork,"on-publish":t.publishHomework}}):n("reply-basic",{attrs:{mode:t.mode,"hc-id":t.hc_id,homework:t.homework_complete},on:{close:t.close,"add-artwork":t.addToArtwork,"on-publish":t.publishHomework,"on-success":t.handleSuccess}}),t._v(" "),n("add-artwork",{ref:"artwork",attrs:{"is-homework":!0,"z-index":502},on:{"on-success":function(e){t.handleSuccess("sart_id")}}}),t._v(" "),n("add-publish",{ref:"publish",attrs:{"z-index":503},on:{"on-success":function(e){t.handleSuccess("is_publish")}}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},BDq9:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"full-fixed-page overflow-auto",style:t.style},[n("div",{staticClass:"x-list-item"},[n("div",{staticClass:"item-wrap"},[n("div",{staticClass:"item-member"},[n("div",{staticClass:"member-info"},[n("img",{attrs:{src:"/static/img/avatars/1.jpg"}}),t._v(" "),n("p",{staticClass:"name"},[t._v(t._s(t._f("ename")(t.info.eid)))]),t._v(" "),n("p",{staticClass:"time"},[t._v(t._s(t.formatDate(t.info.create_time)))])])]),t._v(" "),n("div",{staticClass:"item-body"},[n("div",{staticClass:"item-content"},[n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.info.content)}}),t._v(" "),n("div",{staticClass:"content"},[n("span",[t._v("备注："+t._s(t.info.remark||"无"))])])]),t._v(" "),n("div",{},[n("file-item",{attrs:{list:t.info.homework_attachment},on:{preview:t.preview}})],1),t._v(" "),n("div",{staticClass:"item-status"},[n("div",{staticClass:"item-tag"},[t._v(t._s(t._f("lesson_name")(t.info.lid)))])])])])]),t._v(" "),n("group",{staticStyle:{"margin-top":"0 !important"}},[n("tab",{attrs:{"custom-bar-width":"100px"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("tab-item",{attrs:{"active-class":"x-active-tab",selected:""},on:{"on-item-click":function(t){}}},[t._v("已完成（"+t._s(t.info.homework_complete.length)+" 人）")]),t._v(" "),n("tab-item",{attrs:{"active-class":"x-active-tab"},on:{"on-item-click":function(t){}}},[t._v("未完成（"+t._s(t.info.incomplete_students.length)+" 人）")])],1),t._v(" "),0==t.tab?[t._l(t.homework_complete,function(e,i){return n("cell",{key:i,attrs:{"is-link":""},nativeOn:{click:function(n){t.viewAndReply(e)}}},[n("avatar-and-name",{attrs:{slot:"title",src:e.student.photo_url,sex:e.student.sex,name:e.student.student_name},slot:"title"}),t._v(" "),n("span",{staticClass:"text-desc",attrs:{slot:"value"},slot:"value"},[t._v(t._s(e.homework_reply?"已回复":"待回复"))])],1)}),t._v(" "),t.info.homework_complete&&t.info.homework_complete.length?t._e():n("div",{staticClass:"pd-10 text-center"},[t._v("还没有人提交作业~")])]:t._e(),t._v(" "),1==t.tab?[t._l(t.info.incomplete_students,function(e,i){return n("cell",{key:i},[n("avatar-and-name",{attrs:{slot:"title",src:e.photo_url,sex:e.sex,name:e.student_name},slot:"title"}),t._v(" "),n("tag",{attrs:{slot:"value",color:"blue"},nativeOn:{click:function(n){t.remind(e)}},slot:"value"},[t._v("提醒")])],1)}),t._v(" "),t.info.incomplete_students&&t.info.incomplete_students.length?t._e():n("div",{staticClass:"pd-10 text-center"},[t._v("还没有人未提交作业~")])]:t._e()],2)],1),t._v(" "),1==t.tab&&t.info.incomplete_students.length?n("div",{staticClass:"fixed-footer"},[n("x-button",{staticClass:"x-btn btn-bg-theme",attrs:{type:"primary"},nativeOn:{click:function(e){return t.remindAll(e)}}},[t._v("一键提醒")])],1):t._e(),t._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("reply-popup",{ref:"reply",on:{"on-success":t.init_data,preview:t.preview}})],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},Bd0x:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("E3ZX"),r=i(a),l=n("8Llf"),c=i(l),u=n("CKVb"),d=i(u),h=n("gpPJ"),f=i(h),m=n("IXui"),p=i(m),_=n("RAwi"),v=i(_),b=n("cTn1"),k=i(b),w=n("b+iO"),g=i(w),C=n("jbqM"),A=i(C),x={hc_id:0,eid:0,content:"",homework_attachment:[]};e.default={mixins:[r.default,c.default],components:{Cell:f.default,Popup:k.default,Group:d.default,XButton:p.default,FileItem:g.default,XTextarea:v.default,SelectFile:A.default},props:{mode:{type:String,default:"add"},hcId:{type:[String,Number],default:0},homework:{type:Object,default:function(){return{}}}},data:function(){return{currentItem:{},showRecord:!1,info:o.default.copy(x)}},watch:{"modal$.show":function(t){t||(this.homework={},this.info=o.default.copy(x),this.hcId=0)}},methods:{publish:function(){this.homework.is_publish>0||this.$emit("on-publish")},addToArtwork:function(){this.homework.sart_id>0||this.$emit("add-artwork")},cancel:function(){this.$emit("close")},ok:function(){this.info.homework_attachment;if(/^\s*$/.test(this.info.content))return void this.toast("请输入回复内容","warn");this.post()},post:function(){var t=this,e=o.default.copy(this.info);e.bid=this.homework.bid,e.eid=this.eid$,e.hc_id=this.hcId,this.$rest("homework_completes/"+this.hcId+"/homework_reply").post(e).success(function(e){t.toast("提交成功","success"),t.$emit("on-success"),t.cancel()}).error(function(e){t.toast(e.body.message||"提交失败","warn")})}}}},DqPj:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-box"},[t._t("default")],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},E3ZX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("TVG1"),s=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={data:function(){return{recording:!1,time:0,time_out:null}},mounted:function(){},methods:{closeRecordMask:function(){this.recording||(this.showRecord=!1)},record:function(){var t=this;this.recording=!this.recording,this.recording?this.startRecord().then(function(){t.time_out=setTimeout(t.timeCounting,1e3)}):(this.stopRecord().then(function(e){var n={file_type:"voice",file_url:e,duration:s.default.copy(t.time),_is_wx_file:!0};t.info.homework_attachment.push(n),t.resetTime()}),this.showRecord=!1)},resetTime:function(){this.time=0,this.time_out&&window.clearTimeout(this.time_out),this.setRecordTime&&window.clearTimeout(this.setRecordTime)},timeCounting:function(){this.time=0,this.setRecordTime()},setRecordTime:function(){this.time<60&&this.recording&&(this.time++,window.setTimeout(this.setRecordTime,1e3))}},computed:{recordTime:function(){var t=this.time,e="0:"+(t<10?"0"+t:t);return 60==t&&(e="1:00"),e}}}},ETm6:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"add.vue",sourceRoot:""}])},Fafb:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n.vux-tap-active {\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  user-select: none;\n}\n.vux-tap-active:active {\n  background-color: #ECECEC;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/node_modules/_vux@2.9.2@vux/src/components/checker/checker-item.vue"],names:[],mappings:";AACA;EACE,sCAAsC;EACtC,kBAAkB;CACnB;AACD;EACE,0BAA0B;CAC3B",file:"checker-item.vue",sourcesContent:["\n.vux-tap-active {\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  user-select: none;\n}\n.vux-tap-active:active {\n  background-color: #ECECEC;\n}\n"],sourceRoot:""}])},GvGp:function(t,e,n){"use strict";function i(t){n("b+yy")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("JS7D");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("kIX0"),r=n.n(a),l=n("AzbV"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,null,null);e.default=d.exports},I7yR:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("KUj2"),d=i(u),h=n("5d4z"),f=i(h),m=n("99El"),p=i(m),_=n("1cP3"),v=i(_),b=n("jbqM"),k=i(b),w=n("+CBI"),g=i(w),C=n("fvyU"),A=i(C),x=n("IXui"),y=i(x),$=n("RAwi"),B=i($),I=n("cTn1"),E=i(I),T=n("CKVb"),V=i(T),O=n("gpPJ"),P=i(O),j=n("5CvF"),F=i(j),R=n("4rfY"),S=i(R),M=n("Jp5S"),z=i(M),X={art_name:"",cid:0,bid:0,sid:0,eid:0,art_desc:"",student_artwork_attachment:[]};e.default={mixins:[c.default,d.default,r.default],directives:{TransferDom:z.default},props:{isHomework:{type:Boolean,default:!1},zIndex:{type:Number,default:501}},components:{Tag:p.default,upload:f.default,Popup:E.default,Group:V.default,Cell:P.default,XInput:A.default,ISwitch:g.default,XTextarea:B.default,Flexbox:F.default,XButton:y.default,SelectFile:k.default,FlexboxItem:S.default,SelectStudent:v.default},data:function(){return{info:o.default.copy(X),tags:[],is_class_collect:!0}},watch:{is_class_collect:function(t){this.info.cid=t?this.info._cid:0,console.log("cid"),console.log(this.info.cid)}},computed:{style:function(){return{top:this.headerHeight+"px",zIndex:this.zIndex}}},methods:{ok:function(){var t=this;if(this.check()){var e=o.default.copy(this.info);e.bid=this.bid$[0],e.student_artwork_attachment=this.uploadList,e.eid=this.eid$,this.$rest("student_artworks").post(e).success(function(e){t.toast("添加成功！","success"),t.$emit("on-success"),t.close()}).error(function(e){t.toast(e.body.message||"操作失败","warn")})}},check:function(){var t=this.info;return 0==t.sid?(this.toast("请选择学员","warn"),!1):/^\s*$/.test(t.art_name)?(this.toast("请输入作品名称","warn"),!1):!/^\s*$/.test(t.art_desc)||(this.toast("请输入作品介绍","warn"),!1)}}}},JS7D:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("dB7x"),d=i(u),h=n("N7OP"),f=i(h),m=n("aG0S"),p=i(m),_=n("xbIa"),v=i(_),b=n("cTn1"),k=i(b);e.default={mixins:[c.default,r.default],components:{Popup:k.default,AddArtwork:p.default,AddPublish:v.default,ReplyBasic:d.default,ReplyProfessional:f.default},data:function(){return{hc_id:0,homework:{},homework_complete:{}}},computed:{enable_homework_star:function(){var t=0;return this.$store.state.gvars.configs&&this.$store.state.gvars.configs.params&&(t=this.$store.state.gvars.configs.params.service.enable_homework_star),t},mode:function(){return 1==this.homework_complete.is_check?"view":"add"},professionalMode:function(){return"add"==this.mode?1==this.enable_homework_star:this.homework_complete.check_level>0}},methods:{publishHomework:function(){var t=o.default.copy(this.homework),e=o.default.copy(this.homework_complete),n={bid:t.bid,cid:t.cid,lid:t.lid,sid:e.sid,hc_id:e.hc_id,media_type:0,media_name:"",link_url:"",description:"",publish_time:"",_class_name:t.one_class?t.one_class.class_name:"",_student_name:e.student?e.student.student_name:""};this.$refs.publish.set("info",n).show("")},handleSuccess:function(t){t&&this.$set(this.homework_complete,t,1),this.$emit("on-success")},addToArtwork:function(){var t=o.default.copy(this.homework),e=o.default.copy(this.homework_complete),n={art_name:"",bid:0,cid:t.cid,sid:e.sid,eid:t.eid,hc_id:e.hc_id,art_desc:"",student_artwork_attachment:e.homework_attachment,_cid:t.cid,_class_name:t.one_class?t.one_class.class_name:"",_student_name:e.student?e.student.student_name:""};this.$refs.artwork.set("info",n).set("homework_complete",this.homework_complete).show("")}}}},LNzc:function(t,e,n){var i=n("Fafb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("30d42438",i,!0,{})},N7OP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("88iE");n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var o=n("tjDY"),a=n.n(o),r=n("gmj9"),l=n("vSla"),c=l(a.a,r.a,!1,null,null,null);e.default=c.exports},Nmtt:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("8Llf"),r=i(a),l=n("KUj2"),c=i(l),u=n("Jp5S"),d=i(u),h=n("99El"),f=i(h),m=n("b+iO"),p=i(m),_=n("GvGp"),v=i(_),b=n("i2Uv"),k=i(b),w=n("j108"),g=i(w),C=n("inDh"),A=i(C),x=n("CKVb"),y=i(x),$=n("gpPJ"),B=i($),I=n("IXui"),E=i(I);e.default={mixins:[r.default,c.default],directives:{TransferDom:d.default},components:{Tag:f.default,Tab:g.default,Cell:B.default,Group:y.default,XButton:E.default,TabItem:A.default,FileItem:p.default,ReplyPopup:v.default,AvatarAndName:k.default},data:function(){return{tab:0,info:{eid:0,homework_complete:[],incomplete_students:[]},homework_complete:[],previewShow:!1,id:this.$route.params.id}},mounted:function(){this.init_data()},computed:{style:function(){var t=this.headerHeight+"px";return{height:"calc(100% - "+(0==this.tab?this.headerHeight:this.headerHeight+62)+"px)",top:t,bottom:0==this.tab?"62px":"0"}}},methods:{remind:function(t){var e=this,n=o.default.sprintf("homework_tasks/wechat_notify?ht_id=%s&sid=%s",this.info.ht_id,t.sid);this.$rest(n).get().success(function(t){e.toast("推送成功！","success"),e.downCallback()}).error(function(t){e.toast(t.body.message||"推送失败！","warn")})},remindAll:function(){var t=this;this.$rest("homework_tasks/wechat_notify?ht_id="+this.info.ht_id).get().success(function(e){t.toast("推送成功！","success"),t.downCallback()}).error(function(e){t.toast(e.body.message||"推送失败！","warn")})},viewAndReply:function(t){this.$refs.reply.set("hc_id",t.hc_id).set("homework",this.info).set("homework_complete",t).show("","add")},formatDate:function(t){return t=t||"",t.substring(5,10)},getHCList:function(){var t=this;this.$rest("homework_tasks/"+this.id+"/homework_completes").get().success(function(e){t.homework_complete=e.list}).error(function(e){t.$Message.error(e.body.error||"获取列表失败~")})},init_data:function(){var t=this,e=this.id;this.$rest("homework_tasks/"+e).get().success(function(e){t.info=e,t.getHCList()})},close:function(){this.previewShow=!1}}}},OVwT:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n.overflow-auto {\n  overflow: auto;\n}\n.x-active-tab {\n  color: #38C4FF !important;\n  border-color: #38C4FF !important;\n}\n.vux-tab-bar-inner {\n  background-color: #38C4FF !important;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/src/views/home/homework/detail.vue"],names:[],mappings:";AACA;EACE,eAAe;CAChB;AACD;EACE,0BAA0B;EAC1B,iCAAiC;CAClC;AACD;EACE,qCAAqC;CACtC",file:"detail.vue",sourcesContent:["\n.overflow-auto {\n  overflow: auto;\n}\n.x-active-tab {\n  color: #38C4FF !important;\n  border-color: #38C4FF !important;\n}\n.vux-tab-bar-inner {\n  background-color: #38C4FF !important;\n}\n"],sourceRoot:""}])},OmEY:function(t,e,n){var i=n("ETm6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("647742ff",i,!0,{})},QMZ2:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("CKVb"),d=i(u),h=n("PHeM"),f=i(h),m=n("gpPJ"),p=i(m),_=n("s4gL"),v=i(_),b=n("uYm6"),k=i(b),w=n("IXui"),g=i(w),C=n("S9nr"),A=i(C),x=n("fvyU"),y=i(x),$=n("RAwi"),B=i($),I=n("cTn1"),E=i(I),T={bid:0,cid:0,lid:0,sid:0,hc_id:0,media_type:0,media_name:"",link_url:"",description:"",publish_time:""};e.default={mixins:[c.default,r.default],props:{zIndex:{type:Number,default:503}},components:{Card:f.default,Cell:p.default,Popup:E.default,Group:d.default,XInput:y.default,Checker:v.default,XButton:g.default,Datetime:A.default,XTextarea:B.default,CheckerItem:k.default},data:function(){return{info:o.default.copy(T),data:{}}},mounted:function(){},methods:{publish_homework:function(){var t=this,e=this.info;return""==this.info.media_name?void this.toast("请输入媒体名称","warn"):""==this.info.publish_time?void this.toast("请选择发布时间","warn"):void this.$rest("homework_publishs").post(e).success(function(e){t.toast("发布成功"),t.$emit("on-success"),t.close()}).error(function(e){t.toast(e.body.message,"text")})}},computed:{style:function(){return{top:this.headerHeight+"px",zIndex:this.zIndex}}}}},TziV:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],style:t.style,attrs:{height:"100%"},model:{value:t.modal$.show,callback:function(e){t.$set(t.modal$,"show",e)},expression:"modal$.show"}},[t.modal$.show?[n("group",{attrs:{title:""}},[t.isHomework?n("cell",{attrs:{title:"班级",value:t.info._class_name}}):t._e(),t._v(" "),t.isHomework?n("cell",{attrs:{title:"学员姓名",value:t.info._student_name}}):n("select-student",{attrs:{title:"选择学员"},model:{value:t.info.sid,callback:function(e){t.$set(t.info,"sid",e)},expression:"info.sid"}}),t._v(" "),n("x-input",{attrs:{title:"作品名称","text-align":"right",placeholder:"请输入"},model:{value:t.info.art_name,callback:function(e){t.$set(t.info,"art_name",e)},expression:"info.art_name"}}),t._v(" "),n("x-textarea",{attrs:{placeholder:"请填写详细信息","show-counter":!1,rows:3,title:"作品介绍"},model:{value:t.info.art_desc,callback:function(e){t.$set(t.info,"art_desc",e)},expression:"info.art_desc"}})],1),t._v(" "),t.isHomework?t._e():n("group",{attrs:{title:"作品图片"}},[n("select-file",{attrs:{count:9,"file-type":"image"},model:{value:t.uploadList,callback:function(e){t.uploadList=e},expression:"uploadList"}})],1),t._v(" "),t.isHomework?n("group",{attrs:{title:"添加到班级作品册"}},[n("cell",{attrs:{title:"是否添加到班级作品册"}},[n("i-switch",{attrs:{slot:"value"},slot:"value",model:{value:t.is_class_collect,callback:function(e){t.is_class_collect=e},expression:"is_class_collect"}})],1)],1):t._e(),t._v(" "),n("div",{staticClass:"fixed-footer pd-10"},[n("x-button",{staticClass:"x-btn btn-bg-theme",attrs:{type:"primary"},nativeOn:{click:function(e){return t.ok(e)}}},[t._v("确定")]),t._v(" "),n("x-button",{staticClass:"x-btn",attrs:{type:"text"},nativeOn:{click:function(e){return t.close(e)}}},[t._v("返回")])],1)]:t._e()],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},UXUB:function(t,e,n){"use strict";function i(t){n("oWAB"),n("mHky")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("Nmtt");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("jqW1"),r=n.n(a),l=n("BDq9"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,"data-v-57fec0e0",null);e.default=d.exports},Y26b:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-item",class:t.classNames,on:{click:t.select}},[t._t("default")],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},ZFCu:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popup",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],style:t.style,attrs:{height:"100%"},model:{value:t.modal$.show,callback:function(e){t.$set(t.modal$,"show",e)},expression:"modal$.show"}},[t.modal$.show?n("div",{staticClass:"pd-10"},[n("card",{staticClass:"br-5"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("cell",{attrs:{title:"学生姓名",value:t.info._student_name}}),t._v(" "),n("cell",{attrs:{title:"所在班级",value:t.info._class_name}}),t._v(" "),n("cell",{attrs:{title:"媒体性质"}},[n("div",{attrs:{slot:"value"},slot:"value"},[n("checker",{attrs:{type:"radio","radio-required":""},model:{value:t.info.media_type,callback:function(e){t.$set(t.info,"media_type",e)},expression:"info.media_type"}},[n("checker-item",{attrs:{value:0}},[0===t.info.media_type?n("i",{staticClass:"icon icon-ios-circle-filled color-blue"}):n("i",{staticClass:"icon icon-ios-circle-outline color-blue"}),t._v("\n\t\t\t\t\t\t\t\t纸媒            \t\t\t\t \n\t\t\t\t\t\t\t")]),t._v(" "),n("checker-item",{attrs:{value:1}},[1===t.info.media_type?n("i",{staticClass:"icon icon-ios-circle-filled color-blue"}):n("i",{staticClass:"icon icon-ios-circle-outline color-blue"}),t._v("\n\t\t\t\t\t\t\t\t网媒\n\t\t\t\t\t\t\t")])],1)],1)]),t._v(" "),n("x-input",{attrs:{title:"媒体名称","text-align":"right",placeholder:"请输入"},model:{value:t.info.media_name,callback:function(e){t.$set(t.info,"media_name",e)},expression:"info.media_name"}}),t._v(" "),n("datetime",{attrs:{title:"发布时间"},model:{value:t.info.publish_time,callback:function(e){t.$set(t.info,"publish_time",e)},expression:"info.publish_time"}}),t._v(" "),n("x-input",{attrs:{title:"URL链接","text-align":"right",placeholder:"请输入"},model:{value:t.info.link_url,callback:function(e){t.$set(t.info,"link_url",e)},expression:"info.link_url"}}),t._v(" "),n("x-textarea",{attrs:{"show-counter":!1,height:80,placeholder:"发表说明..."},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}})],1)]),t._v(" "),n("div",{staticClass:"mg-t-10 pd-t-10"},[n("x-button",{staticClass:"x-btn btn-bg-theme",attrs:{type:"primary"},nativeOn:{click:function(e){return t.publish_homework(e)}}},[t._v("提交")]),t._v(" "),n("x-button",{staticClass:"x-btn",attrs:{type:"default"},nativeOn:{click:function(e){return t.close(e)}}},[t._v("取消")])],1)],1):t._e()])},s=[],o={render:i,staticRenderFns:s};e.a=o},aG0S:function(t,e,n){"use strict";function i(t){n("OmEY")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("I7yR");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("6mnE"),r=n.n(a),l=n("TziV"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,null,null);e.default=d.exports},"b+yy":function(t,e,n){var i=n("mp6P");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("2f32cb40",i,!0,{})},dB7x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("tsHj");n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var o=n("Bd0x"),a=n.n(o),r=n("1USH"),l=n("vSla"),c=l(a.a,r.a,!1,null,null,null);e.default=c.exports},gmj9:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"x-reply-page",style:{height:"calc(100% - "+t.headerHeight+"px)"}},["view"==t.mode?n("img",{staticClass:"homework-range",attrs:{src:t.level_img}}):t._e(),t._v(" "),n("group",{attrs:{title:"完成的作业"}},[t.homework.student?n("div",{staticClass:"homework-header"},[n("div",{staticClass:"header-left avatar avatar-xs"},[n("img",{attrs:{src:t.homework.student.photo_url},on:{error:t.imgLoadError}})]),t._v(" "),n("div",{staticClass:"header-right"},[n("p",{staticClass:"name"},[t._v(t._s(t.homework.student.student_name))]),t._v(" "),n("p",{staticClass:"time"},[t._v("\n\t\t\t\t\t"+t._s(t.homework.create_time)+"\n\t\t\t\t\t"),n("rater",{staticClass:"pull-right",attrs:{value:t.homework.star,max:5,disabled:"","active-color":"#FBD52C","font-size":16}})],1)])]):t._e(),t._v(" "),n("div",{staticClass:"pd-10 homework-content",domProps:{innerHTML:t._s(t.homework.content)}}),t._v(" "),n("file-item",{attrs:{list:t.homework.homework_attachment}})],1),t._v(" "),n("group",{attrs:{title:"批改作业"}},["add"==t.mode?[n("div",{staticClass:"pd-10"},[n("tab",{staticClass:"my-tab mg-t-10",attrs:{"line-width":2,"active-color":"transparent"},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,function(e,i){return n("tab-item",{key:i,staticClass:"vux-center",attrs:{"active-class":"active-tab",selected:i===t.tab_index}},[t._v(t._s(e))])})),t._v(" "),n("div",{staticClass:"mg-t-10"},[n("div",{staticClass:"text-disable flex-display"},[n("div",{staticClass:"pull-left mg-r-10 flex-display flex-middle"},[t._v("作业评分:")]),t._v(" "),n("div",{staticClass:"pull-left"},[t._l(t.levels,function(e,i){return[n("span",{staticClass:"level-span",class:t.info.result_level===e.id?"active":"",on:{click:function(n){t.info.result_level=e.id}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),0==t.tab_index&&(i+1)%3==0?n("div",{staticClass:"mg-b-10"}):t._e()]})],2),t._v(" "),n("div",{staticStyle:{clear:"both"}})])]),t._v(" "),n("x-textarea",{staticClass:"mg-t-10 bg-white",attrs:{placeholder:"作业点评...","show-counter":!1,height:140},model:{value:t.info.content,callback:function(e){t.$set(t.info,"content",e)},expression:"info.content"}})],1)]:[n("div",{staticClass:"pd-10"},[n("tag",{attrs:{color:"green"}},[t._v(t._s(1==t.homework.check_level?"精批作业":"普批作业"))])],1),t._v(" "),n("div",{staticClass:"bg-white pd-10 homework-content",domProps:{innerHTML:t._s(t.homework.homework_reply.content)}}),t._v(" "),n("file-item",{attrs:{list:t.homework.homework_reply.homework_attachment}})]],2),t._v(" "),"add"==t.mode?n("group",{attrs:{title:"作业附件"}},[n("select-file",{attrs:{count:9},model:{value:t.info.homework_attachment,callback:function(e){t.$set(t.info,"homework_attachment",e)},expression:"info.homework_attachment"}})],1):t._e(),t._v(" "),"add"!==t.mode?n("group",{attrs:{title:"作业发表"}},[n("cell",{attrs:{title:"发表作业","is-link":!t.homework.is_publish,value:t.homework.is_publish?"已发表":""},nativeOn:{click:function(e){return t.publish(e)}}}),t._v(" "),n("cell",{attrs:{title:"添加到作品册","is-link":!t.homework.sart_id,value:t.homework.sart_id?"已添加":""},nativeOn:{click:function(e){return t.addToArtwork(e)}}})],1):t._e(),t._v(" "),n("div",{staticClass:"mg-t-10 pd-10"},["add"==t.mode?n("x-button",{staticClass:"bg-blue",attrs:{type:"primary",disabled:t.disabled},nativeOn:{click:function(e){return t.submit_correct(e)}}},[t._v("\n\t\t\t提交\n\t\t")]):t._e(),t._v(" "),n("x-button",{staticClass:"x-btn",attrs:{type:"default"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("返回")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},jqW1:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("8Llf"),r=i(a),l=n("KUj2"),c=i(l),u=n("Jp5S"),d=i(u),h=n("99El"),f=i(h),m=n("b+iO"),p=i(m),_=n("GvGp"),v=i(_),b=n("i2Uv"),k=i(b),w=n("j108"),g=i(w),C=n("inDh"),A=i(C),x=n("CKVb"),y=i(x),$=n("gpPJ"),B=i($),I=n("IXui"),E=i(I);e.default={mixins:[r.default,c.default],directives:{TransferDom:d.default},components:{Tag:f.default,Tab:g.default,Cell:B.default,Group:y.default,XButton:E.default,TabItem:A.default,FileItem:p.default,ReplyPopup:v.default,AvatarAndName:k.default},data:function(){return{tab:0,info:{eid:0,homework_complete:[],incomplete_students:[]},homework_complete:[],previewShow:!1,id:this.$route.params.id}},mounted:function(){this.init_data()},computed:{style:function(){var t=this.headerHeight+"px";return{height:"calc(100% - "+(0==this.tab?this.headerHeight:this.headerHeight+62)+"px)",top:t,bottom:0==this.tab?"62px":"0"}}},methods:{remind:function(t){var e=this,n=o.default.sprintf("homework_tasks/wechat_notify?ht_id=%s&sid=%s",this.info.ht_id,t.sid);this.$rest(n).get().success(function(t){e.toast("推送成功！","success"),e.downCallback()}).error(function(t){e.toast(t.body.message||"推送失败！","warn")})},remindAll:function(){var t=this;this.$rest("homework_tasks/wechat_notify?ht_id="+this.info.ht_id).get().success(function(e){t.toast("推送成功！","success"),t.downCallback()}).error(function(e){t.toast(e.body.message||"推送失败！","warn")})},viewAndReply:function(t){this.$refs.reply.set("hc_id",t.hc_id).set("homework",this.info).set("homework_complete",t).show("","add")},formatDate:function(t){return t=t||"",t.substring(5,10)},getHCList:function(){var t=this;this.$rest("homework_tasks/"+this.id+"/homework_completes").get().success(function(e){t.homework_complete=e.list}).error(function(e){t.$Message.error(e.body.error||"获取列表失败~")})},init_data:function(){var t=this,e=this.id;this.$rest("homework_tasks/"+e).get().success(function(e){t.info=e,t.getHCList()})},close:function(){this.previewShow=!1}}}},kIX0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("dB7x"),d=i(u),h=n("N7OP"),f=i(h),m=n("aG0S"),p=i(m),_=n("xbIa"),v=i(_),b=n("cTn1"),k=i(b);e.default={mixins:[c.default,r.default],components:{Popup:k.default,AddArtwork:p.default,AddPublish:v.default,ReplyBasic:d.default,ReplyProfessional:f.default},data:function(){return{hc_id:0,homework:{},homework_complete:{}}},computed:{enable_homework_star:function(){var t=0;return this.$store.state.gvars.configs&&this.$store.state.gvars.configs.params&&(t=this.$store.state.gvars.configs.params.service.enable_homework_star),t},mode:function(){return 1==this.homework_complete.is_check?"view":"add"},professionalMode:function(){return"add"==this.mode?1==this.enable_homework_star:this.homework_complete.check_level>0}},methods:{publishHomework:function(){var t=o.default.copy(this.homework),e=o.default.copy(this.homework_complete),n={bid:t.bid,cid:t.cid,lid:t.lid,sid:e.sid,hc_id:e.hc_id,media_type:0,media_name:"",link_url:"",description:"",publish_time:"",_class_name:t.one_class?t.one_class.class_name:"",_student_name:e.student?e.student.student_name:""};this.$refs.publish.set("info",n).show("")},handleSuccess:function(t){t&&this.$set(this.homework_complete,t,1),this.$emit("on-success")},addToArtwork:function(){var t=o.default.copy(this.homework),e=o.default.copy(this.homework_complete),n={art_name:"",bid:0,cid:t.cid,sid:e.sid,eid:t.eid,hc_id:e.hc_id,art_desc:"",student_artwork_attachment:e.homework_attachment,_cid:t.cid,_class_name:t.one_class?t.one_class.class_name:"",_student_name:e.student?e.student.student_name:""};this.$refs.artwork.set("info",n).set("homework_complete",this.homework_complete).show("")}}}},lbdi:function(t,e,n){var i=n("3vMG");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("c85d0378",i,!0,{})},mHky:function(t,e,n){var i=n("teJb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("4c2d0bec",i,!0,{})},mp6P:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n.x-reply-page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow-y: auto;\n}\n.homework-header {\n  display: flex;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n.homework-header .header-right {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  margin-left: 10px;\n}\n.homework-header .header-right .name {\n  color: #323232;\n  font-size: 14px;\n}\n.homework-header .header-right .time {\n  color: #666666;\n  font-size: 12px;\n}\n.level-span {\n  background: #AAAAAA;\n  color: #FFFFFF;\n  display: inline-block;\n  margin-right: .5em;\n  width: 1.5em;\n  border-radius: 3px;\n  font-size: 1.2em;\n  text-align: center;\n}\n.level-span.active {\n  background: #35AEF7;\n}\n.flex-display {\n  display: flex;\n}\n.homework-range {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 150px;\n  z-index: 1;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/src/views/home/homework/reply.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,QAAQ;EACR,OAAO;EACP,iBAAiB;CAClB;AACD;EACE,cAAc;EACd,cAAc;EACd,8BAA8B;CAC/B;AACD;EACE,QAAQ;EACR,cAAc;EACd,uBAAuB;EACvB,8BAA8B;EAC9B,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,gBAAgB;CACjB;AACD;EACE,eAAe;EACf,gBAAgB;CACjB;AACD;EACE,oBAAoB;EACpB,eAAe;EACf,sBAAsB;EACtB,mBAAmB;EACnB,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,mBAAmB;CACpB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,cAAc;CACf;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,UAAU;EACV,aAAa;EACb,WAAW;CACZ",file:"reply.vue",sourcesContent:["\n.x-reply-page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow-y: auto;\n}\n.homework-header {\n  display: flex;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n.homework-header .header-right {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  margin-left: 10px;\n}\n.homework-header .header-right .name {\n  color: #323232;\n  font-size: 14px;\n}\n.homework-header .header-right .time {\n  color: #666666;\n  font-size: 12px;\n}\n.level-span {\n  background: #AAAAAA;\n  color: #FFFFFF;\n  display: inline-block;\n  margin-right: .5em;\n  width: 1.5em;\n  border-radius: 3px;\n  font-size: 1.2em;\n  text-align: center;\n}\n.level-span.active {\n  background: #35AEF7;\n}\n.flex-display {\n  display: flex;\n}\n.homework-range {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 150px;\n  z-index: 1;\n}\n"],sourceRoot:""}])},oWAB:function(t,e,n){var i=n("OVwT");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("FIqI")("a07e0200",i,!0,{})},pOiQ:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("Xm+C"),r=i(a),l=n("8Llf"),c=i(l),u=n("CKVb"),d=i(u),h=n("PHeM"),f=i(h),m=n("gpPJ"),p=i(m),_=n("s4gL"),v=i(_),b=n("uYm6"),k=i(b),w=n("IXui"),g=i(w),C=n("S9nr"),A=i(C),x=n("fvyU"),y=i(x),$=n("RAwi"),B=i($),I=n("cTn1"),E=i(I),T={bid:0,cid:0,lid:0,sid:0,hc_id:0,media_type:0,media_name:"",link_url:"",description:"",publish_time:""};e.default={mixins:[c.default,r.default],props:{zIndex:{type:Number,default:503}},components:{Card:f.default,Cell:p.default,Popup:E.default,Group:d.default,XInput:y.default,Checker:v.default,XButton:g.default,Datetime:A.default,XTextarea:B.default,CheckerItem:k.default},data:function(){return{info:o.default.copy(T),data:{}}},mounted:function(){},methods:{publish_homework:function(){var t=this,e=this.info;return""==this.info.media_name?void this.toast("请输入媒体名称","warn"):""==this.info.publish_time?void this.toast("请选择发布时间","warn"):void this.$rest("homework_publishs").post(e).success(function(e){t.toast("发布成功"),t.$emit("on-success"),t.close()}).error(function(e){t.toast(e.body.message,"text")})}},computed:{style:function(){return{top:this.headerHeight+"px",zIndex:this.zIndex}}}}},qauO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{currentValue:this.value}}}},s4gL:function(t,e,n){"use strict";function i(t){n("lbdi")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("qauO");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("2NU8"),r=n.n(a),l=n("DqPj"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,null,null);e.default=d.exports},teJb:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,"\n.fixed-footer[data-v-57fec0e0] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n}\n","",{version:3,sources:["/Users/payhon/Project/x360p/src/neza_org_mobile/src/views/home/homework/detail.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,UAAU;EACV,QAAQ;EACR,YAAY;EACZ,cAAc;EACd,uBAAuB;CACxB",file:"detail.vue",sourcesContent:["\n.fixed-footer[data-v-57fec0e0] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n}\n"],sourceRoot:""}])},tjDY:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("8Llf"),r=i(a),l=n("b+iO"),c=i(l),u=n("jbqM"),d=i(u),h=n("99El"),f=i(h),m=n("j108"),p=i(m),_=n("inDh"),v=i(_),b=n("RAwi"),k=i(b),w=n("f/tg"),g=i(w),C=n("IXui"),A=i(C),x=n("5CvF"),y=i(x),$=n("4rfY"),B=i($),I=n("CKVb"),E=i(I),T=n("gpPJ"),V=i(T),O={hc_id:0,eid:0,content:"",result_level:0,check_level:2,homework_attachment:[]};e.default={mixins:[r.default],components:{Tag:f.default,Tab:p.default,Cell:V.default,Rater:g.default,Group:E.default,XButton:A.default,TabItem:v.default,XTextarea:k.default,Flexbox:y.default,FileItem:c.default,FlexboxItem:B.default,SelectFile:d.default},props:{mode:{type:String,default:"add"},hcId:{type:[String,Number],default:0},homework:{type:Object,default:function(){return{}}}},data:function(){return{tab_index:0,tab_list:["精批","普批"],standard_levels:[{id:4,name:"A"},{id:3,name:"B"},{id:2,name:"C"},{id:1,name:"D"}],normal_levels:[{id:10,name:"A+"},{id:9,name:"A"},{id:8,name:"A-"},{id:7,name:"B+"},{id:6,name:"B"},{id:5,name:"B-"},{id:4,name:"C+"},{id:3,name:"C"},{id:2,name:"C-"},{id:1,name:"D"}],info:o.default.copy(O)}},methods:{publish:function(){this.$emit("on-publish")},addToArtwork:function(){this.$emit("add-artwork")},submit_correct:function(){var t=this;this.info.check_level=this.tab_index+1,this.info.hc_id=this.hcId,this.info.eid=this.eid$,this.info.bid=this.homework.bid,console.log("INFO"),console.log(o.default.copy(this.info)),this.$rest("homework_completes/"+this.hcId+"/homework_reply").post(this.info).success(function(e){t.toast("提交成功","success"),t.$emit("on-success"),t.cancel()}).error(function(e){t.toast(e.body.message||"提交失败","warn")})},cancel:function(){this.$emit("close")}},computed:{level_img:function(){var t=[{1:"A",2:"B",3:"C",4:"D"},this.homework,"/assets/images/A.png"],e=t[0],n=t[1],i=t[2],s={1:"A+",2:"A",3:"A-",4:"B+",5:"B",6:"B-",7:"C+",8:"C",9:"C-",10:"D"};return 1===n.is_check&&(i=2===n.check_level?"/static/img/neza/org/"+s[n.result_level]+".png":"/static/img/neza/org/"+e[n.result_level]+".png"),i},disabled:function(){return 0===this.info.result_level||0===this.info.content.length},levels:function(){var t=[this.data,this.standard_levels,this.normal_levels],e=t[1],n=t[2];return 0==this.tab_index?n:e}}}},tsHj:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("TVG1"),o=i(s),a=n("E3ZX"),r=i(a),l=n("8Llf"),c=i(l),u=n("CKVb"),d=i(u),h=n("gpPJ"),f=i(h),m=n("IXui"),p=i(m),_=n("RAwi"),v=i(_),b=n("cTn1"),k=i(b),w=n("b+iO"),g=i(w),C=n("jbqM"),A=i(C),x={hc_id:0,eid:0,content:"",homework_attachment:[]};e.default={mixins:[r.default,c.default],components:{Cell:f.default,Popup:k.default,Group:d.default,XButton:p.default,FileItem:g.default,XTextarea:v.default,SelectFile:A.default},props:{mode:{type:String,default:"add"},hcId:{type:[String,Number],default:0},homework:{type:Object,default:function(){return{}}}},data:function(){return{currentItem:{},showRecord:!1,info:o.default.copy(x)}},watch:{"modal$.show":function(t){t||(this.homework={},this.info=o.default.copy(x),this.hcId=0)}},methods:{publish:function(){this.homework.is_publish>0||this.$emit("on-publish")},addToArtwork:function(){this.homework.sart_id>0||this.$emit("add-artwork")},cancel:function(){this.$emit("close")},ok:function(){this.info.homework_attachment;if(/^\s*$/.test(this.info.content))return void this.toast("请输入回复内容","warn");this.post()},post:function(){var t=this,e=o.default.copy(this.info);e.bid=this.homework.bid,e.eid=this.eid$,e.hc_id=this.hcId,this.$rest("homework_completes/"+this.hcId+"/homework_reply").post(e).success(function(e){t.toast("提交成功","success"),t.$emit("on-success"),t.cancel()}).error(function(e){t.toast(e.body.message||"提交失败","warn")})}}}},uYm6:function(t,e,n){"use strict";function i(t){n("LNzc")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("zpO0");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("zRbV"),r=n.n(a),l=n("Y26b"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,null,null);e.default=d.exports},xbIa:function(t,e,n){"use strict";function i(t){n("AsuT")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("pOiQ");n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);var a=n("QMZ2"),r=n.n(a),l=n("ZFCu"),c=n("vSla"),u=i,d=c(r.a,l.a,!1,u,null,null);e.default=d.exports},zRbV:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,a.default)(t)===(0,a.default)(e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("3cXf"),a=i(o),r=n("hRKE"),l=i(r);e.default={name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(t){t&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var t=this,e="string"==typeof this.value||"number"==typeof this.value,n={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(n[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var i=!1;if("radio"===this.$parent.type)e&&this.$parent.currentValue===this.value?i=!0:"object"===(0,l.default)(this.value)&&s(this.$parent.currentValue,this.value)&&(i=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(i=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var o=this.$parent.currentValue.filter(function(e){return s(e,t.value)});i=o.length>0}n[this.$parent.selectedItemClass]=i}return this.$parent.disabledItemClass&&(n[this.$parent.disabledItemClass]=this.disabled),n}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var t="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var e=-1;e=t?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(t){return(0,a.default)(t)}).indexOf((0,a.default)(this.value)),e>-1?this.$parent.currentValue.splice(e,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}},zpO0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,a.default)(t)===(0,a.default)(e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("3cXf"),a=i(o),r=n("hRKE"),l=i(r);e.default={name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(t){t&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var t=this,e="string"==typeof this.value||"number"==typeof this.value,n={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(n[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var i=!1;if("radio"===this.$parent.type)e&&this.$parent.currentValue===this.value?i=!0:"object"===(0,l.default)(this.value)&&s(this.$parent.currentValue,this.value)&&(i=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(i=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var o=this.$parent.currentValue.filter(function(e){return s(e,t.value)});i=o.length>0}n[this.$parent.selectedItemClass]=i}return this.$parent.disabledItemClass&&(n[this.$parent.disabledItemClass]=this.disabled),n}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var t="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var e=-1;e=t?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(t){return(0,a.default)(t)}).indexOf((0,a.default)(this.value)),e>-1?this.$parent.currentValue.splice(e,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}}});
//# sourceMappingURL=4.1aae7b753b73a26e50dd.js.map