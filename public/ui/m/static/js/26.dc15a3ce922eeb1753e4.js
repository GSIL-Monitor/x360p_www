webpackJsonp([26],{"4Smd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("l1Jd");n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var s=n("dUEu"),a=n.n(s),r=n("mN5X"),u=n("vSla"),l=u(a.a,r.a,!1,null,null,null);e.default=l.exports},NpJa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("OrLd");n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var s=n("shLL"),a=n.n(s),r=n("nehB"),u=n("vSla"),l=u(a.a,r.a,!1,null,null,null);e.default=l.exports},OrLd:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("+6Lo"),s=i(o),a=n("S9nr"),r=i(a),u=n("o+C2"),l=i(u),d=n("4Smd"),c=i(d),f=n("EBxd"),h=i(f);e.default={mixins:[s.default],components:{XTable:c.default,Datetime:r.default,PopupPicker:l.default,SelectBranch:h.default},data:function(){return{popupShow:!1,filter:["bid"],filterList:[{value:"bid",name:"按校区"},{value:"lid",name:"按课程"},{value:"sj_id",name:"按科目"},{value:"cid",name:"按班级"},{value:"eid",name:"按老师"},{value:"sid",name:"按学员"}]}}}},dUEu:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("MVMM"),s=(i(o),n("6ROu")),a=i(s),r=n("TVG1"),u=i(r),l=n("8Llf"),d=i(l),c=n("KUj2"),f=i(c),h=n("m1Gx"),_=i(h),p=n("9pan"),m=i(p);e.default={mixins:[d.default,f.default],components:{XTable:_.default,XPage:m.default},props:{bids:{type:Array,default:[]},group:{type:String,default:"bid"},yearMonth:{type:String,default:(0,a.default)(new Date).format("YYYY-MM")}},data:function(){return{data:[],total:0,pageIndex:1,pageSize:10}},watch:{group:function(t){this.init()},yearMonth:function(t){this.init()},bids:function(t){this.init()}},mounted:function(){this.init_data()},methods:{init:function(){this.pageIndex=1,this.init_data()},pagenation:function(t){this.pageIndex=t,this.init_data()},init_data:function(){var t=this,e={page:this.pageIndex,pagesize:this.pageSize};this.showLoading(),this.$rest(this.data_uri).get(e).success(function(e){t.data=e.list,t.total=e.total,t.pageSize=parseInt(e.pagesize),t.loadFinished()})},loadFinished:function(){var t=this,e=this.data;e&&e.length>0&&e.push({column_total:!0}),setTimeout(function(){t.hideLoading()},300)},getTotal:function(t,e){var n=this.data,i=0;return n&&n.length>0&&(n.forEach(function(t){t[e]&&(i+=Number(t[e]))}),r._.isNumber(n[n.length-2][e])||(i=parseFloat(i).toFixed(2))),t("span",{class:"text-danger"},i)}},computed:{tableHeight:function(){return(window.innerHeight||document.innerHeight)-(101+this.headerHeight)},columns:function(){var t=this,e=[],n={};"bid"==this.group?n={title:"校区",key:"bid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("branch_name")(n.row.bid))}}:"lid"==this.group?n={title:"课程",key:"lid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("lesson_name")(n.row.lid))}}:"sj_id"==this.group?n={title:"科目",key:"sj_id",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("subject_name")(n.row.sj_id))}}:"cid"==this.group?n={title:"班级",key:"cid",width:100,fixed:"left",render:function(t,e){var n="未分班";return e.row.column_total?"合计":(e.row.cid>0&&e.row.cls&&(n=e.row.cls.class_name),t("span",n))}}:"eid"==this.group?n={title:"老师",key:"eid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("ename")(n.row.eid))}}:"sid"==this.group&&(n={title:"学员",key:"sid",width:100,fixed:"left",render:function(t,e){var n="";return e.row.column_total?"合计":(e.row.student&&(n=e.row.student.student_name),t("span",n))}});var i={title:"学员数",key:"sum_student_nums",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_student_nums"):n.row.sum_student_nums}},o={title:"课时数",key:"sum_lesson_hours",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_lesson_hours"):n.row.sum_lesson_hours}},s={title:"课次数",key:"sum_lesson_times",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_lesson_times"):n.row.sum_lesson_times}},a={title:"总课时数",key:"sum_total_lesson_hours",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_total_lesson_hours"):n.row.sum_total_lesson_hours}},r={title:"总金额",key:"sum_total_lesson_amount",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_total_lesson_amount"):n.row.sum_total_lesson_amount}},u={title:"学号",key:"sno",width:100,render:function(t,e){return e.row.student?t("span",e.row.student.sno):""}};return e.push(n),"sid"!=this.group?e.push(o,s,i,a):e.push(u,o,s),e.push(r),e},data_uri:function(){var t=this.group,e=this.yearMonth+"-01",n=this.yearMonth+"-"+(0,a.default)(this.yearMonth).daysInMonth(),i="report_employee_outputs",o="";return this.bids.length&&(o=u.default.sprintf("&bid=[In,%s]",this.bids.join(","))),"sid"==t&&(i="report_student_consumes"),u.default.sprintf("%s?group=%s&start_date=%s&end_date=%s%s",i,t,e,n,o)}}}},l1Jd:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("MVMM"),s=(i(o),n("6ROu")),a=i(s),r=n("TVG1"),u=i(r),l=n("8Llf"),d=i(l),c=n("KUj2"),f=i(c),h=n("m1Gx"),_=i(h),p=n("9pan"),m=i(p);e.default={mixins:[d.default,f.default],components:{XTable:_.default,XPage:m.default},props:{bids:{type:Array,default:[]},group:{type:String,default:"bid"},yearMonth:{type:String,default:(0,a.default)(new Date).format("YYYY-MM")}},data:function(){return{data:[],total:0,pageIndex:1,pageSize:10}},watch:{group:function(t){this.init()},yearMonth:function(t){this.init()},bids:function(t){this.init()}},mounted:function(){this.init_data()},methods:{init:function(){this.pageIndex=1,this.init_data()},pagenation:function(t){this.pageIndex=t,this.init_data()},init_data:function(){var t=this,e={page:this.pageIndex,pagesize:this.pageSize};this.showLoading(),this.$rest(this.data_uri).get(e).success(function(e){t.data=e.list,t.total=e.total,t.pageSize=parseInt(e.pagesize),t.loadFinished()})},loadFinished:function(){var t=this,e=this.data;e&&e.length>0&&e.push({column_total:!0}),setTimeout(function(){t.hideLoading()},300)},getTotal:function(t,e){var n=this.data,i=0;return n&&n.length>0&&(n.forEach(function(t){t[e]&&(i+=Number(t[e]))}),r._.isNumber(n[n.length-2][e])||(i=parseFloat(i).toFixed(2))),t("span",{class:"text-danger"},i)}},computed:{tableHeight:function(){return(window.innerHeight||document.innerHeight)-(101+this.headerHeight)},columns:function(){var t=this,e=[],n={};"bid"==this.group?n={title:"校区",key:"bid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("branch_name")(n.row.bid))}}:"lid"==this.group?n={title:"课程",key:"lid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("lesson_name")(n.row.lid))}}:"sj_id"==this.group?n={title:"科目",key:"sj_id",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("subject_name")(n.row.sj_id))}}:"cid"==this.group?n={title:"班级",key:"cid",width:100,fixed:"left",render:function(t,e){var n="未分班";return e.row.column_total?"合计":(e.row.cid>0&&e.row.cls&&(n=e.row.cls.class_name),t("span",n))}}:"eid"==this.group?n={title:"老师",key:"eid",width:100,fixed:"left",render:function(e,n){return n.row.column_total?"合计":e("span",t.$filter("ename")(n.row.eid))}}:"sid"==this.group&&(n={title:"学员",key:"sid",width:100,fixed:"left",render:function(t,e){var n="";return e.row.column_total?"合计":(e.row.student&&(n=e.row.student.student_name),t("span",n))}});var i={title:"学员数",key:"sum_student_nums",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_student_nums"):n.row.sum_student_nums}},o={title:"课时数",key:"sum_lesson_hours",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_lesson_hours"):n.row.sum_lesson_hours}},s={title:"课次数",key:"sum_lesson_times",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_lesson_times"):n.row.sum_lesson_times}},a={title:"总课时数",key:"sum_total_lesson_hours",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_total_lesson_hours"):n.row.sum_total_lesson_hours}},r={title:"总金额",key:"sum_total_lesson_amount",width:100,render:function(e,n){return n.row.column_total?t.getTotal(e,"sum_total_lesson_amount"):n.row.sum_total_lesson_amount}},u={title:"学号",key:"sno",width:100,render:function(t,e){return e.row.student?t("span",e.row.student.sno):""}};return e.push(n),"sid"!=this.group?e.push(o,s,i,a):e.push(u,o,s),e.push(r),e},data_uri:function(){var t=this.group,e=this.yearMonth+"-01",n=this.yearMonth+"-"+(0,a.default)(this.yearMonth).daysInMonth(),i="report_employee_outputs",o="";return this.bids.length&&(o=u.default.sprintf("&bid=[In,%s]",this.bids.join(","))),"sid"==t&&(i="report_student_consumes"),u.default.sprintf("%s?group=%s&start_date=%s&end_date=%s%s",i,t,e,n,o)}}}},mN5X:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("x-table",{attrs:{height:t.tableHeight,width:"100%",border:!1,columns:t.columns,data:t.data}}),t._v(" "),n("div",{staticClass:"pd-10 text-center"},[n("x-page",{attrs:{total:t.total,current:t.pageIndex,"page-size":t.pageSize,"show-total":!0},on:{"on-change":t.pagenation}})],1)],1)},o=[],s={render:i,staticRenderFns:o};e.a=s},nehB:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white height-full"},[n("div",{staticClass:"x-header"},[n("span",{staticClass:"icon icon-ios-arrow-left",on:{click:t.preMonth}}),t._v(" "),n("datetime",{attrs:{format:"YYYY-MM","max-year":t.maxYear},model:{value:t.yearMonth,callback:function(e){t.yearMonth=e},expression:"yearMonth"}},[n("span",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),n("span",{staticClass:"icon icon-ios-arrow-right",on:{click:t.nextMonth}}),t._v(" "),n("div",{staticClass:"x-header-filter",on:{click:function(e){t.popupShow=!0}}},[n("i",{staticClass:"icon icon-funnel"}),t._v("\n\t\t\t"+t._s(t.$refs.filter?t.$refs.filter.getNameValues():"按校区")+"\n\t\t")])],1),t._v(" "),n("select-branch",{model:{value:t.bids,callback:function(e){t.bids=e},expression:"bids"}}),t._v(" "),n("x-table",{attrs:{bids:t.bids,"year-month":t.yearMonth,group:t.filter[0]}}),t._v(" "),n("popup-picker",{ref:"filter",attrs:{show:t.popupShow,"show-cell":!1,columns:1,data:t.filterList},on:{"update:show":function(e){t.popupShow=e}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)},o=[],s={render:i,staticRenderFns:o};e.a=s},shLL:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n("+6Lo"),s=i(o),a=n("S9nr"),r=i(a),u=n("o+C2"),l=i(u),d=n("4Smd"),c=i(d),f=n("EBxd"),h=i(f);e.default={mixins:[s.default],components:{XTable:c.default,Datetime:r.default,PopupPicker:l.default,SelectBranch:h.default},data:function(){return{popupShow:!1,filter:["bid"],filterList:[{value:"bid",name:"按校区"},{value:"lid",name:"按课程"},{value:"sj_id",name:"按科目"},{value:"cid",name:"按班级"},{value:"eid",name:"按老师"},{value:"sid",name:"按学员"}]}}}}});
//# sourceMappingURL=26.dc15a3ce922eeb1753e4.js.map