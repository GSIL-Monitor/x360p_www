{"version":3,"sources":["webpack:///static/js/19.94558293afc756d088aa.js","webpack:///./src/views/home/homework/submit.vue?4838","webpack:///./src/views/home/homework/record.mixin.js","webpack:///./src/views/home/homework/submit.vue?88b4","webpack:///./src/views/home/homework/submit.vue","webpack:///./src/views/home/homework/submit.vue?e63f","webpack:///./src/views/home/homework/submit.vue?484e"],"names":["webpackJsonp","91bn","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","E3ZX","Object","defineProperty","value","_util","_util2","obj","__esModule","default","data","recording","time","time_out","mounted","methods","closeRecordMask","this","showRecord","record","_this","startRecord","then","setTimeout","timeCounting","stopRecord","localId","file_type","file_url","duration","util","copy","_is_wx_file","console","log","info","homework_attachment","resetTime","window","clearTimeout","setRecordTime","computed","recordTime","result","gkpE","__webpack_exports__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__","__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue___default","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1d4186f1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_submit_vue__","normalizeComponent","__vue_styles__","Component","a","le/p","_interopRequireDefault","_promise","_promise2","_wxjssdk","_wxjssdk2","_common","_common2","_record","_record2","_MyRater","_MyRater2","_SmallVoice","_SmallVoice2","_index","_index2","_index3","_index4","_index5","_index6","_index7","_index8","_flexbox","_flexbox2","_flexboxItem","_flexboxItem2","_index9","_index10","_index11","_index12","mixins","common","wxjssdk","components","Cell","Group","Rater","Popup","XButton","Flexbox","SmallVoice","XTextarea","FlexboxItem","MyRater","currentItem","id","$route","params","map_star_text","1","2","3","4","5","ht_id","content","sid","star","file_list","type","_ref","uploadList","length","filter","u","delItem","item","index","indexOf","splice","chooseWXImage","count","chooseImage","arr","forEach","isIOS","getlocalImageData","images","uri","submit","_this2","list","test","toast","getWXFile","post","response","alert","_this3","$store","state","user","default_sid","$rest","success","$router","go","error","body","message","method","$this","resolve","reject","upload","media_id","downloadWXFile","enable_homework_star","gvars","configs","service","luEN","nQC2","locals","oGNl","render","_vm","_h","$createElement","_c","_self","staticClass","style","paddingTop","headerHeight","attrs","font-size","margin","model","callback","$$v","$set","expression","_v","_s","_e","directives","name","rawName","placeholder","domProps","on","input","$event","target","composing","click","_l","background","_m","stopPropagation","active","ref","class","nativeOn","staticRenderFns","esExports"],"mappings":"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","file":"static/js/19.94558293afc756d088aa.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ \"91bn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.record-mask {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 9;\\n  left: 0;\\n  top: 0;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.recording-container {\\n  height: 240px;\\n  width: 100%;\\n  background: #fff;\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10;\\n  flex-direction: column;\\n  color: #323232;\\n}\\n.recording-container .record-time {\\n  font-size: 16px;\\n}\\n.recording-container .record-btn {\\n  width: 100px;\\n  height: 100px;\\n  background: #f5f5f5;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 20px 0 15px 0;\\n  position: relative;\\n  border-radius: 50%;\\n  border: 1px solid #dddddd;\\n}\\n.recording-container .record-btn:after {\\n  content: '';\\n  width: 70px;\\n  height: 70px;\\n  background-color: red;\\n  border-radius: 50%;\\n  position: absolute;\\n  left: 15px;\\n  top: 15px;\\n}\\n.recording-container .record-btn.active:after {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 6px;\\n  background-color: #38C4FF;\\n  left: 25px;\\n  top: 25px;\\n}\\n.full-fixed-page {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n}\\n.content-input {\\n  padding: 10px;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.content-input textarea {\\n  resize: none;\\n  padding: 3px;\\n  width: 100%;\\n  box-sizing: border-box;\\n  height: 140px;\\n  border: none;\\n  outline: none;\\n  font-size: 14px;\\n}\\n.image-list,\\n.record-container {\\n  width: 100%;\\n  background-size: cover;\\n  padding: 10px 10px;\\n  overflow: hidden;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.image-list .image-item,\\n.record-container .image-item {\\n  width: 65px;\\n  height: 65px;\\n  background-size: cover !important;\\n  display: inline-block;\\n  position: relative;\\n  border-radius: 5px;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n  border: solid 1px #e8e8e8 !important;\\n  float: left;\\n}\\n.image-list .image-item.space > div,\\n.record-container .image-item.space > div {\\n  height: 100%;\\n  text-align: center;\\n  color: #999999;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 14px;\\n}\\n.voice-item {\\n  border: 1px solid #dddddd;\\n  display: inline-block;\\n  position: relative;\\n  padding: 5px 30px 5px 10px;\\n  border-radius: 5px;\\n  margin-right: 15px;\\n  margin-bottom: 10px;\\n}\\n.image-close {\\n  position: absolute;\\n  display: inline-block;\\n  right: -6px;\\n  top: -6px;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  line-height: 20px;\\n  border-radius: 12px;\\n  background-color: #FF5053;\\n  color: #f3f3f3;\\n  border: solid 1px #FF5053;\\n  font-size: 9px;\\n  font-weight: 200;\\n  z-index: 1;\\n  box-sizing: border-box;\\n}\\n.footer {\\n  margin-top: 20px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/payhon/Project/x360p/src/neza_student_mobile/src/views/home/homework/submit.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,WAAW;EACX,QAAQ;EACR,OAAO;EACP,+BAA+B;CAChC;AACD;EACE,cAAc;EACd,YAAY;EACZ,iBAAiB;EACjB,gBAAgB;EAChB,QAAQ;EACR,UAAU;EACV,cAAc;EACd,wBAAwB;EACxB,oBAAoB;EACpB,YAAY;EACZ,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,cAAc;EACd,oBAAoB;EACpB,cAAc;EACd,wBAAwB;EACxB,oBAAoB;EACpB,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,0BAA0B;CAC3B;AACD;EACE,YAAY;EACZ,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,WAAW;EACX,UAAU;CACX;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,0BAA0B;EAC1B,WAAW;EACX,UAAU;CACX;AACD;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,QAAQ;EACR,OAAO;CACR;AACD;EACE,cAAc;EACd,iCAAiC;CAClC;AACD;EACE,aAAa;EACb,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,cAAc;EACd,aAAa;EACb,cAAc;EACd,gBAAgB;CACjB;AACD;;EAEE,YAAY;EACZ,uBAAuB;EACvB,mBAAmB;EACnB,iBAAiB;EACjB,iCAAiC;CAClC;AACD;;EAEE,YAAY;EACZ,aAAa;EACb,kCAAkC;EAClC,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,qCAAqC;EACrC,YAAY;CACb;AACD;;EAEE,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,cAAc;EACd,uBAAuB;EACvB,oBAAoB;EACpB,wBAAwB;EACxB,gBAAgB;CACjB;AACD;EACE,0BAA0B;EAC1B,sBAAsB;EACtB,mBAAmB;EACnB,2BAA2B;EAC3B,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,sBAAsB;EACtB,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,kBAAkB;EAClB,oBAAoB;EACpB,0BAA0B;EAC1B,eAAe;EACf,0BAA0B;EAC1B,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,uBAAuB;CACxB;AACD;EACE,iBAAiB;CAClB\",\"file\":\"submit.vue\",\"sourcesContent\":[\"\\n.record-mask {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 9;\\n  left: 0;\\n  top: 0;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.recording-container {\\n  height: 240px;\\n  width: 100%;\\n  background: #fff;\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10;\\n  flex-direction: column;\\n  color: #323232;\\n}\\n.recording-container .record-time {\\n  font-size: 16px;\\n}\\n.recording-container .record-btn {\\n  width: 100px;\\n  height: 100px;\\n  background: #f5f5f5;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 20px 0 15px 0;\\n  position: relative;\\n  border-radius: 50%;\\n  border: 1px solid #dddddd;\\n}\\n.recording-container .record-btn:after {\\n  content: '';\\n  width: 70px;\\n  height: 70px;\\n  background-color: red;\\n  border-radius: 50%;\\n  position: absolute;\\n  left: 15px;\\n  top: 15px;\\n}\\n.recording-container .record-btn.active:after {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 6px;\\n  background-color: #38C4FF;\\n  left: 25px;\\n  top: 25px;\\n}\\n.full-fixed-page {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n}\\n.content-input {\\n  padding: 10px;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.content-input textarea {\\n  resize: none;\\n  padding: 3px;\\n  width: 100%;\\n  box-sizing: border-box;\\n  height: 140px;\\n  border: none;\\n  outline: none;\\n  font-size: 14px;\\n}\\n.image-list,\\n.record-container {\\n  width: 100%;\\n  background-size: cover;\\n  padding: 10px 10px;\\n  overflow: hidden;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.image-list .image-item,\\n.record-container .image-item {\\n  width: 65px;\\n  height: 65px;\\n  background-size: cover !important;\\n  display: inline-block;\\n  position: relative;\\n  border-radius: 5px;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n  border: solid 1px #e8e8e8 !important;\\n  float: left;\\n}\\n.image-list .image-item.space > div,\\n.record-container .image-item.space > div {\\n  height: 100%;\\n  text-align: center;\\n  color: #999999;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 14px;\\n}\\n.voice-item {\\n  border: 1px solid #dddddd;\\n  display: inline-block;\\n  position: relative;\\n  padding: 5px 30px 5px 10px;\\n  border-radius: 5px;\\n  margin-right: 15px;\\n  margin-bottom: 10px;\\n}\\n.image-close {\\n  position: absolute;\\n  display: inline-block;\\n  right: -6px;\\n  top: -6px;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  line-height: 20px;\\n  border-radius: 12px;\\n  background-color: #FF5053;\\n  color: #f3f3f3;\\n  border: solid 1px #FF5053;\\n  font-size: 9px;\\n  font-weight: 200;\\n  z-index: 1;\\n  box-sizing: border-box;\\n}\\n.footer {\\n  margin-top: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"E3ZX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _util = __webpack_require__(\"TVG1\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\tdata: function data() {\n\t\treturn {\n\t\t\trecording: false,\n\t\t\ttime: 0,\n\t\t\ttime_out: null\n\t\t};\n\t},\n\tmounted: function mounted() {},\n\n\tmethods: {\n\t\tcloseRecordMask: function closeRecordMask() {\n\t\t\tif (!this.recording) {\n\t\t\t\tthis.showRecord = false;\n\t\t\t}\n\t\t},\n\t\trecord: function record() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.recording = !this.recording;\n\n\t\t\tif (this.recording) {\n\t\t\t\tthis.startRecord().then(function () {\n\t\t\t\t\t_this.time_out = setTimeout(_this.timeCounting, 1000);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.stopRecord().then(function (localId) {\n\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\tfile_type: 'voice',\n\t\t\t\t\t\tfile_url: localId,\n\t\t\t\t\t\tduration: _util2.default.copy(_this.time),\n\t\t\t\t\t\t_is_wx_file: true\n\t\t\t\t\t\t//\t\t\t\t\talert(JSON.stringify(obj))\n\t\t\t\t\t};console.log(obj);\n\t\t\t\t\t_this.info.homework_attachment.push(obj);\n\t\t\t\t\t_this.resetTime();\n\t\t\t\t});\n\t\t\t\tthis.showRecord = false;\n\t\t\t}\n\t\t},\n\t\tresetTime: function resetTime() {\n\t\t\tthis.time = 0;\n\n\t\t\tif (this.time_out) window.clearTimeout(this.time_out);\n\n\t\t\tif (this.setRecordTime) window.clearTimeout(this.setRecordTime);\n\t\t},\n\t\ttimeCounting: function timeCounting() {\n\t\t\tthis.time = 0;\n\t\t\tthis.setRecordTime();\n\t\t},\n\t\tsetRecordTime: function setRecordTime() {\n\t\t\tif (this.time < 60 && this.recording) {\n\t\t\t\tthis.time++;\n\t\t\t\twindow.setTimeout(this.setRecordTime, 1000);\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\trecordTime: function recordTime() {\n\t\t\tvar time = this.time;\n\t\t\tvar result = 0 + ':' + (time < 10 ? '0' + time : time);\n\n\t\t\tif (time == 60) {\n\t\t\t\tresult = '1:00';\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}\n\n};\n\n/***/ }),\n\n/***/ \"gkpE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__ = __webpack_require__(\"luEN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__ = __webpack_require__(\"le/p\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1d4186f1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_submit_vue__ = __webpack_require__(\"oGNl\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"nQC2\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_submit_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1d4186f1_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_submit_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"le/p\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(\"rVsN\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _util = __webpack_require__(\"TVG1\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _wxjssdk = __webpack_require__(\"/AUM\");\n\nvar _wxjssdk2 = _interopRequireDefault(_wxjssdk);\n\nvar _common = __webpack_require__(\"8Llf\");\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _record = __webpack_require__(\"E3ZX\");\n\nvar _record2 = _interopRequireDefault(_record);\n\nvar _MyRater = __webpack_require__(\"zhFk\");\n\nvar _MyRater2 = _interopRequireDefault(_MyRater);\n\nvar _SmallVoice = __webpack_require__(\"JlEs\");\n\nvar _SmallVoice2 = _interopRequireDefault(_SmallVoice);\n\nvar _index = __webpack_require__(\"IXui\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = __webpack_require__(\"CKVb\");\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _index5 = __webpack_require__(\"gpPJ\");\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _index7 = __webpack_require__(\"RAwi\");\n\nvar _index8 = _interopRequireDefault(_index7);\n\nvar _flexbox = __webpack_require__(\"5CvF\");\n\nvar _flexbox2 = _interopRequireDefault(_flexbox);\n\nvar _flexboxItem = __webpack_require__(\"4rfY\");\n\nvar _flexboxItem2 = _interopRequireDefault(_flexboxItem);\n\nvar _index9 = __webpack_require__(\"f/tg\");\n\nvar _index10 = _interopRequireDefault(_index9);\n\nvar _index11 = __webpack_require__(\"cTn1\");\n\nvar _index12 = _interopRequireDefault(_index11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  mixins: [_record2.default, _common2.default, _wxjssdk2.default],\n  components: {\n    Cell: _index6.default,\n    Group: _index4.default,\n    Rater: _index10.default,\n    Popup: _index12.default,\n    XButton: _index2.default,\n    Flexbox: _flexbox2.default,\n    SmallVoice: _SmallVoice2.default,\n    XTextarea: _index8.default,\n    FlexboxItem: _flexboxItem2.default,\n    MyRater: _MyRater2.default\n  },\n  data: function data() {\n    return {\n      showRecord: false,\n      currentItem: {},\n      id: this.$route.params.id,\n      map_star_text: { 1: '简单', 2: '一般', 3: '中等', 4: '困难', 5: '史诗' },\n      info: {\n        ht_id: 0,\n        content: '',\n        sid: 0,\n        star: 0,\n        homework_attachment: []\n      }\n    };\n  },\n\n  methods: {\n    file_list: function file_list(type) {\n      var _ref = [[], this.info.homework_attachment],\n          result = _ref[0],\n          uploadList = _ref[1];\n\n      if (uploadList.length > 0) {\n        result = uploadList.filter(function (u) {\n          return u.file_type == type;\n        });\n      }\n      return result;\n    },\n    delItem: function delItem(item) {\n      var index = this.info.homework_attachment.indexOf(item);\n      if (index > -1) {\n        this.info.homework_attachment.splice(index, 1);\n      }\n    },\n    chooseWXImage: function chooseWXImage() {\n      var _this = this;\n\n      var count = 9 - this.file_list('image').length;\n\n      this.chooseImage(count, false).then(function (arr) {\n        if (arr.length) {\n          arr.forEach(function (a) {\n            var obj = {\n              file_type: 'image',\n              file_url: a\n            };\n            if (_this.isIOS) {\n              _this.getlocalImageData(_this.images.localId[a]).then(function (uri) {\n                obj.file_url = uri;\n              });\n            }\n\n            _this.info.homework_attachment.push(obj);\n          });\n        }\n      });\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      var list = this.info.homework_attachment;\n      this.info.ht_id = this.id;\n\n      if (/^\\s*$/.test(this.info.content)) {\n        this.toast('请输入作业内容', 'warn');\n        return;\n      }\n      if (list.length) {\n        this.getWXFile(list).then(function (result) {\n\n          _this2.post(result);\n        }, function (response) {\n          alert(response);\n        });\n      } else {\n        this.post();\n      }\n    },\n    post: function post(list) {\n      var _this3 = this;\n\n      list = list || [];\n      var params = _util2.default.copy(this.info);\n      params.homework_attachment = list;\n      params.sid = this.$store.state.user.info.default_sid;\n\n      this.$rest('homework_tasks/' + this.id + '/homework_complete').post(params).success(function (data) {\n\n        _this3.toast('提交成功', 'success');\n        setTimeout(function () {\n          _this3.$router.go(-1);\n        }, 1000);\n      }).error(function (response) {\n\n        _this3.toast(response.body.message || '提交失败', 'warn');\n      });\n    },\n    getWXFile: function getWXFile(list) {\n      var result = [],\n          method = '',\n          i = 0,\n          $this = this;\n\n      list = list || [];\n\n      return new _promise2.default(function (resolve, reject) {\n        function upload() {\n          if (list[i].file_type == 'image') {\n            method = 'uploadSingleImage';\n          } else if (list[i].file_type == 'voice') {\n            method = 'uploadVoice';\n          }\n\n          $this[method](list[i].file_url).then(function (media_id) {\n            $this.downloadWXFile(media_id, list[i].file_type).then(function (response) {\n              i++;\n              result.push(response.data[0]);\n\n              if (i < list.length) {\n                upload();\n              } else {\n                resolve(result);\n              }\n            }, function (response) {\n              reject(response);\n            });\n          });\n        }\n        if (list.length) {\n          upload();\n        }\n      });\n    }\n  },\n  computed: {\n    enable_homework_star: function enable_homework_star() {\n      var result = 0;\n      if (this.$store.state.gvars.configs && this.$store.state.gvars.configs.params) {\n        result = this.$store.state.gvars.configs.params.service.enable_homework_star;\n      }\n\n      return result;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ \"luEN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(\"rVsN\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _util = __webpack_require__(\"TVG1\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _wxjssdk = __webpack_require__(\"/AUM\");\n\nvar _wxjssdk2 = _interopRequireDefault(_wxjssdk);\n\nvar _common = __webpack_require__(\"8Llf\");\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _record = __webpack_require__(\"E3ZX\");\n\nvar _record2 = _interopRequireDefault(_record);\n\nvar _MyRater = __webpack_require__(\"zhFk\");\n\nvar _MyRater2 = _interopRequireDefault(_MyRater);\n\nvar _SmallVoice = __webpack_require__(\"JlEs\");\n\nvar _SmallVoice2 = _interopRequireDefault(_SmallVoice);\n\nvar _index = __webpack_require__(\"IXui\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = __webpack_require__(\"CKVb\");\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _index5 = __webpack_require__(\"gpPJ\");\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _index7 = __webpack_require__(\"RAwi\");\n\nvar _index8 = _interopRequireDefault(_index7);\n\nvar _flexbox = __webpack_require__(\"5CvF\");\n\nvar _flexbox2 = _interopRequireDefault(_flexbox);\n\nvar _flexboxItem = __webpack_require__(\"4rfY\");\n\nvar _flexboxItem2 = _interopRequireDefault(_flexboxItem);\n\nvar _index9 = __webpack_require__(\"f/tg\");\n\nvar _index10 = _interopRequireDefault(_index9);\n\nvar _index11 = __webpack_require__(\"cTn1\");\n\nvar _index12 = _interopRequireDefault(_index11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  mixins: [_record2.default, _common2.default, _wxjssdk2.default],\n  components: {\n    Cell: _index6.default,\n    Group: _index4.default,\n    Rater: _index10.default,\n    Popup: _index12.default,\n    XButton: _index2.default,\n    Flexbox: _flexbox2.default,\n    SmallVoice: _SmallVoice2.default,\n    XTextarea: _index8.default,\n    FlexboxItem: _flexboxItem2.default,\n    MyRater: _MyRater2.default\n  },\n  data: function data() {\n    return {\n      showRecord: false,\n      currentItem: {},\n      id: this.$route.params.id,\n      map_star_text: { 1: '简单', 2: '一般', 3: '中等', 4: '困难', 5: '史诗' },\n      info: {\n        ht_id: 0,\n        content: '',\n        sid: 0,\n        star: 0,\n        homework_attachment: []\n      }\n    };\n  },\n\n  methods: {\n    file_list: function file_list(type) {\n      var _ref = [[], this.info.homework_attachment],\n          result = _ref[0],\n          uploadList = _ref[1];\n\n      if (uploadList.length > 0) {\n        result = uploadList.filter(function (u) {\n          return u.file_type == type;\n        });\n      }\n      return result;\n    },\n    delItem: function delItem(item) {\n      var index = this.info.homework_attachment.indexOf(item);\n      if (index > -1) {\n        this.info.homework_attachment.splice(index, 1);\n      }\n    },\n    chooseWXImage: function chooseWXImage() {\n      var _this = this;\n\n      var count = 9 - this.file_list('image').length;\n\n      this.chooseImage(count, false).then(function (arr) {\n        if (arr.length) {\n          arr.forEach(function (a) {\n            var obj = {\n              file_type: 'image',\n              file_url: a\n            };\n            if (_this.isIOS) {\n              _this.getlocalImageData(_this.images.localId[a]).then(function (uri) {\n                obj.file_url = uri;\n              });\n            }\n\n            _this.info.homework_attachment.push(obj);\n          });\n        }\n      });\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      var list = this.info.homework_attachment;\n      this.info.ht_id = this.id;\n\n      if (/^\\s*$/.test(this.info.content)) {\n        this.toast('请输入作业内容', 'warn');\n        return;\n      }\n      if (list.length) {\n        this.getWXFile(list).then(function (result) {\n\n          _this2.post(result);\n        }, function (response) {\n          alert(response);\n        });\n      } else {\n        this.post();\n      }\n    },\n    post: function post(list) {\n      var _this3 = this;\n\n      list = list || [];\n      var params = _util2.default.copy(this.info);\n      params.homework_attachment = list;\n      params.sid = this.$store.state.user.info.default_sid;\n\n      this.$rest('homework_tasks/' + this.id + '/homework_complete').post(params).success(function (data) {\n\n        _this3.toast('提交成功', 'success');\n        setTimeout(function () {\n          _this3.$router.go(-1);\n        }, 1000);\n      }).error(function (response) {\n\n        _this3.toast(response.body.message || '提交失败', 'warn');\n      });\n    },\n    getWXFile: function getWXFile(list) {\n      var result = [],\n          method = '',\n          i = 0,\n          $this = this;\n\n      list = list || [];\n\n      return new _promise2.default(function (resolve, reject) {\n        function upload() {\n          if (list[i].file_type == 'image') {\n            method = 'uploadSingleImage';\n          } else if (list[i].file_type == 'voice') {\n            method = 'uploadVoice';\n          }\n\n          $this[method](list[i].file_url).then(function (media_id) {\n            $this.downloadWXFile(media_id, list[i].file_type).then(function (response) {\n              i++;\n              result.push(response.data[0]);\n\n              if (i < list.length) {\n                upload();\n              } else {\n                resolve(result);\n              }\n            }, function (response) {\n              reject(response);\n            });\n          });\n        }\n        if (list.length) {\n          upload();\n        }\n      });\n    }\n  },\n  computed: {\n    enable_homework_star: function enable_homework_star() {\n      var result = 0;\n      if (this.$store.state.gvars.configs && this.$store.state.gvars.configs.params) {\n        result = this.$store.state.gvars.configs.params.service.enable_homework_star;\n      }\n\n      return result;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ \"nQC2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"91bn\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"306cbf40\", content, true, {});\n\n/***/ }),\n\n/***/ \"oGNl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-white full-fixed-page\",style:({paddingTop: _vm.headerHeight+'px'})},[(_vm.enable_homework_star)?_c('div',{staticClass:\"level-star text-center pd-10 b-b-1\"},[_c('my-rater',{attrs:{\"font-size\":30,\"margin\":15},model:{value:(_vm.info.star),callback:function ($$v) {_vm.$set(_vm.info, \"star\", $$v)},expression:\"info.star\"}}),_vm._v(\" \"),_c('p',[_c('small',{staticClass:\"text-disable\"},[_vm._v(\"\\n\\t\\t\\t\\t作业星级: \"+_vm._s(_vm.map_star_text[_vm.info.star])+\"\\n\\t\\t\\t\")])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content-input\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.content),expression:\"info.content\"}],staticClass:\"x-teaxtare\",attrs:{\"placeholder\":\"请输入作业内容\"},domProps:{\"value\":(_vm.info.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.info, \"content\", $event.target.value)}}}),_vm._v(\" \"),_c('p',{staticClass:\"text-right text-small\",on:{\"click\":function($event){_vm.showRecord=true}}},[_c('i',{staticClass:\"icon icon-mic-a\"}),_vm._v(\" 点击录制语音\")])]),_vm._v(\" \"),_c('div',{staticClass:\"input-file-container\"},[_c('div',{staticClass:\"image-list\"},[_vm._l((_vm.file_list('image')),function(item){return _c('div',{staticClass:\"image-item\",style:({background:'url('+item.file_url+')'})},[_c('div',{staticClass:\"image-close\",on:{\"click\":function($event){_vm.delItem(item)}}},[_vm._v(\"X\")])])}),_vm._v(\" \"),_c('div',{staticClass:\"image-item space\",on:{\"click\":_vm.chooseWXImage}},[_vm._m(0)])],2)]),_vm._v(\" \"),(_vm.file_list('voice').length)?_c('div',{staticClass:\"record-container\"},_vm._l((_vm.file_list('voice')),function(item,index){return _c('div',{staticClass:\"voice-item\",on:{\"click\":function($event){_vm.currentItem=item}}},[_c('div',{staticClass:\"image-close\",on:{\"click\":function($event){$event.stopPropagation();_vm.delItem(item)}}},[_vm._v(\"X\")]),_vm._v(\" \"),_c('small-voice',{attrs:{\"file\":item,\"active\":_vm.currentItem==item}})],1)})):_vm._e(),_vm._v(\" \"),(_vm.showRecord)?_c('div',[_c('div',{ref:\"recordMask\",staticClass:\"record-mask\",on:{\"click\":_vm.closeRecordMask}}),_vm._v(\" \"),_c('div',{staticClass:\"recording-container\"},[_c('div',{staticClass:\"record-time\"},[_vm._v(_vm._s(_vm.recordTime))]),_vm._v(\" \"),_c('span',{staticClass:\"record-btn\",class:_vm.recording?'active':'',on:{\"click\":_vm.record}})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('x-button',{staticClass:\"x-btn x-btn-md x-btn-circle btn-bg-theme\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.submit($event)}}},[_vm._v(\"提交\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"icon icon-camera\"}),_vm._v(\" \"),_c('p',[_vm._v(\"照片\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/19.94558293afc756d088aa.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.record-mask {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 9;\\n  left: 0;\\n  top: 0;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.recording-container {\\n  height: 240px;\\n  width: 100%;\\n  background: #fff;\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10;\\n  flex-direction: column;\\n  color: #323232;\\n}\\n.recording-container .record-time {\\n  font-size: 16px;\\n}\\n.recording-container .record-btn {\\n  width: 100px;\\n  height: 100px;\\n  background: #f5f5f5;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 20px 0 15px 0;\\n  position: relative;\\n  border-radius: 50%;\\n  border: 1px solid #dddddd;\\n}\\n.recording-container .record-btn:after {\\n  content: '';\\n  width: 70px;\\n  height: 70px;\\n  background-color: red;\\n  border-radius: 50%;\\n  position: absolute;\\n  left: 15px;\\n  top: 15px;\\n}\\n.recording-container .record-btn.active:after {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 6px;\\n  background-color: #38C4FF;\\n  left: 25px;\\n  top: 25px;\\n}\\n.full-fixed-page {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n}\\n.content-input {\\n  padding: 10px;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.content-input textarea {\\n  resize: none;\\n  padding: 3px;\\n  width: 100%;\\n  box-sizing: border-box;\\n  height: 140px;\\n  border: none;\\n  outline: none;\\n  font-size: 14px;\\n}\\n.image-list,\\n.record-container {\\n  width: 100%;\\n  background-size: cover;\\n  padding: 10px 10px;\\n  overflow: hidden;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.image-list .image-item,\\n.record-container .image-item {\\n  width: 65px;\\n  height: 65px;\\n  background-size: cover !important;\\n  display: inline-block;\\n  position: relative;\\n  border-radius: 5px;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n  border: solid 1px #e8e8e8 !important;\\n  float: left;\\n}\\n.image-list .image-item.space > div,\\n.record-container .image-item.space > div {\\n  height: 100%;\\n  text-align: center;\\n  color: #999999;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 14px;\\n}\\n.voice-item {\\n  border: 1px solid #dddddd;\\n  display: inline-block;\\n  position: relative;\\n  padding: 5px 30px 5px 10px;\\n  border-radius: 5px;\\n  margin-right: 15px;\\n  margin-bottom: 10px;\\n}\\n.image-close {\\n  position: absolute;\\n  display: inline-block;\\n  right: -6px;\\n  top: -6px;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  line-height: 20px;\\n  border-radius: 12px;\\n  background-color: #FF5053;\\n  color: #f3f3f3;\\n  border: solid 1px #FF5053;\\n  font-size: 9px;\\n  font-weight: 200;\\n  z-index: 1;\\n  box-sizing: border-box;\\n}\\n.footer {\\n  margin-top: 20px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/payhon/Project/x360p/src/neza_student_mobile/src/views/home/homework/submit.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,WAAW;EACX,QAAQ;EACR,OAAO;EACP,+BAA+B;CAChC;AACD;EACE,cAAc;EACd,YAAY;EACZ,iBAAiB;EACjB,gBAAgB;EAChB,QAAQ;EACR,UAAU;EACV,cAAc;EACd,wBAAwB;EACxB,oBAAoB;EACpB,YAAY;EACZ,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,cAAc;EACd,oBAAoB;EACpB,cAAc;EACd,wBAAwB;EACxB,oBAAoB;EACpB,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,0BAA0B;CAC3B;AACD;EACE,YAAY;EACZ,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,WAAW;EACX,UAAU;CACX;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,0BAA0B;EAC1B,WAAW;EACX,UAAU;CACX;AACD;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,QAAQ;EACR,OAAO;CACR;AACD;EACE,cAAc;EACd,iCAAiC;CAClC;AACD;EACE,aAAa;EACb,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,cAAc;EACd,aAAa;EACb,cAAc;EACd,gBAAgB;CACjB;AACD;;EAEE,YAAY;EACZ,uBAAuB;EACvB,mBAAmB;EACnB,iBAAiB;EACjB,iCAAiC;CAClC;AACD;;EAEE,YAAY;EACZ,aAAa;EACb,kCAAkC;EAClC,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,qCAAqC;EACrC,YAAY;CACb;AACD;;EAEE,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,cAAc;EACd,uBAAuB;EACvB,oBAAoB;EACpB,wBAAwB;EACxB,gBAAgB;CACjB;AACD;EACE,0BAA0B;EAC1B,sBAAsB;EACtB,mBAAmB;EACnB,2BAA2B;EAC3B,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,sBAAsB;EACtB,YAAY;EACZ,UAAU;EACV,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,kBAAkB;EAClB,oBAAoB;EACpB,0BAA0B;EAC1B,eAAe;EACf,0BAA0B;EAC1B,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,uBAAuB;CACxB;AACD;EACE,iBAAiB;CAClB\",\"file\":\"submit.vue\",\"sourcesContent\":[\"\\n.record-mask {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 9;\\n  left: 0;\\n  top: 0;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.recording-container {\\n  height: 240px;\\n  width: 100%;\\n  background: #fff;\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10;\\n  flex-direction: column;\\n  color: #323232;\\n}\\n.recording-container .record-time {\\n  font-size: 16px;\\n}\\n.recording-container .record-btn {\\n  width: 100px;\\n  height: 100px;\\n  background: #f5f5f5;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 20px 0 15px 0;\\n  position: relative;\\n  border-radius: 50%;\\n  border: 1px solid #dddddd;\\n}\\n.recording-container .record-btn:after {\\n  content: '';\\n  width: 70px;\\n  height: 70px;\\n  background-color: red;\\n  border-radius: 50%;\\n  position: absolute;\\n  left: 15px;\\n  top: 15px;\\n}\\n.recording-container .record-btn.active:after {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 6px;\\n  background-color: #38C4FF;\\n  left: 25px;\\n  top: 25px;\\n}\\n.full-fixed-page {\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n}\\n.content-input {\\n  padding: 10px;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.content-input textarea {\\n  resize: none;\\n  padding: 3px;\\n  width: 100%;\\n  box-sizing: border-box;\\n  height: 140px;\\n  border: none;\\n  outline: none;\\n  font-size: 14px;\\n}\\n.image-list,\\n.record-container {\\n  width: 100%;\\n  background-size: cover;\\n  padding: 10px 10px;\\n  overflow: hidden;\\n  border-bottom: 1px solid #EEEEEE;\\n}\\n.image-list .image-item,\\n.record-container .image-item {\\n  width: 65px;\\n  height: 65px;\\n  background-size: cover !important;\\n  display: inline-block;\\n  position: relative;\\n  border-radius: 5px;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n  border: solid 1px #e8e8e8 !important;\\n  float: left;\\n}\\n.image-list .image-item.space > div,\\n.record-container .image-item.space > div {\\n  height: 100%;\\n  text-align: center;\\n  color: #999999;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 14px;\\n}\\n.voice-item {\\n  border: 1px solid #dddddd;\\n  display: inline-block;\\n  position: relative;\\n  padding: 5px 30px 5px 10px;\\n  border-radius: 5px;\\n  margin-right: 15px;\\n  margin-bottom: 10px;\\n}\\n.image-close {\\n  position: absolute;\\n  display: inline-block;\\n  right: -6px;\\n  top: -6px;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  line-height: 20px;\\n  border-radius: 12px;\\n  background-color: #FF5053;\\n  color: #f3f3f3;\\n  border: solid 1px #FF5053;\\n  font-size: 9px;\\n  font-weight: 200;\\n  z-index: 1;\\n  box-sizing: border-box;\\n}\\n.footer {\\n  margin-top: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1d4186f1\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!./node_modules/_less-loader@2.2.3@less-loader?{\"sourceMap\":true}!./node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/home/homework/submit.vue\n// module id = 91bn\n// module chunks = 19","import util from '@/libs/util'\r\n\r\nexport default{\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\trecording: false,\r\n\t\t\ttime: 0,\r\n\t\t\ttime_out: null\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\t\r\n\t},\r\n\tmethods: {\r\n\t\tcloseRecordMask () {\r\n\t\t\tif(!this.recording){\r\n\t\t\t\tthis.showRecord = false\r\n\t\t\t}\r\n\t\t},\r\n\t\trecord () {\r\n\t\t\tthis.recording = !this.recording\r\n\t\t\t\r\n\t\t\tif(this.recording){\r\n\t\t\t\tthis.startRecord()\r\n\t\t\t\t.then(()=>{\r\n\t\t\t\t\tthis.time_out = setTimeout(this.timeCounting, 1000)\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.stopRecord()\r\n\t\t\t\t.then(localId=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tfile_type: 'voice',\r\n\t\t\t\t\t\tfile_url: localId,\r\n\t\t\t\t\t\tduration: util.copy(this.time),\r\n\t\t\t\t\t\t_is_wx_file: true\r\n\t\t\t\t\t}\r\n//\t\t\t\t\talert(JSON.stringify(obj))\r\n\t\t\t\t\tconsole.log(obj)\r\n\t\t\t\t\tthis.info.homework_attachment.push(obj)\r\n\t\t\t\t\tthis.resetTime()\r\n\t\t\t\t})\r\n\t\t\t\tthis.showRecord = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetTime () {\r\n\t\t\tthis.time = 0\r\n\t\t\t\r\n\t\t\tif(this.time_out) window.clearTimeout(this.time_out)\r\n\t\t\t\t\r\n\t\t\tif(this.setRecordTime) window.clearTimeout(this.setRecordTime)\r\n\t\t},\r\n\t\ttimeCounting () {\r\n\t\t\tthis.time = 0\r\n    \t\tthis.setRecordTime()\r\n\t\t},\r\n\t\tsetRecordTime () {\r\n\t\t\tif(this.time < 60&&this.recording){\r\n\t\t\t\tthis.time ++\r\n\t\t\t\twindow.setTimeout(this.setRecordTime,1000)\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\trecordTime () {\r\n\t\t\tlet time = this.time\r\n\t\t\tlet result = 0+':'+ (time<10?('0'+time):time)\r\n\t\t\t\r\n\t\t\tif(time == 60){\r\n\t\t\t\tresult = '1:00'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/home/homework/record.mixin.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d4186f1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./submit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./submit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./submit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d4186f1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./submit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/homework/submit.vue\n// module id = gkpE\n// module chunks = 19","\nimport util from '@/libs/util'\nimport wxjssdk from '@/libs/wxjssdk.mixin'\nimport common from '@/libs/common.mixin'\nimport record from './record.mixin'\nimport MyRater from 'c%/MyRater.vue'\nimport SmallVoice from 'c%/SmallVoice.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport XTextarea from 'vux/src/components/x-textarea/index.vue'\nimport Flexbox from 'vux/src/components/flexbox/flexbox.vue'\nimport FlexboxItem from 'vux/src/components/flexbox/flexbox-item.vue'\nimport Rater from 'vux/src/components/rater/index.vue'\nimport Popup from 'vux/src/components/popup/index.vue'\n\n\nexport default{\nmixins: [ record,common,wxjssdk ],\ncomponents:{\nCell,\nGroup,\nRater,\nPopup,\nXButton,\nFlexbox,\nSmallVoice,\nXTextarea,\nFlexboxItem,\nMyRater\n},\ndata () {\nreturn {\nshowRecord: false,\ncurrentItem: {},\nid: this.$route.params.id,\nmap_star_text: { 1:'简单',2:'一般',3:'中等',4:'困难',5:'史诗' },\ninfo: {\nht_id: 0,\ncontent: '',\nsid: 0,\nstar: 0,\nhomework_attachment: []\n}\n}\n},\nmethods: {\nfile_list (type) {\nlet [result,uploadList] = [[],this.info.homework_attachment]\nif(uploadList.length>0){\nresult = uploadList.filter(u=>u.file_type==type)\n}\nreturn result\n},\ndelItem (item) {\nlet index = this.info.homework_attachment.indexOf(item)\nif(index>-1){\nthis.info.homework_attachment.splice(index,1)\n}\n},\nchooseWXImage () {\nlet count = 9 - this.file_list('image').length\n\nthis.chooseImage(count,false)\n.then(arr=>{\nif(arr.length){\narr.forEach(a=>{\nlet obj = {\nfile_type: 'image',\nfile_url: a\n}\nif(this.isIOS){\nthis.getlocalImageData(this.images.localId[a]).then(uri=>{\nobj.file_url = uri\n})\n}\n\nthis.info.homework_attachment.push(obj)\n})\n}\n})\n},\nsubmit () {\nlet list = this.info.homework_attachment\nthis.info.ht_id = this.id\n\nif(/^\\s*$/.test(this.info.content)){\nthis.toast('请输入作业内容','warn')\nreturn\n}\nif(list.length){\nthis.getWXFile(list)\n.then(result=>{\n\nthis.post(result)\n},response=>{\nalert(response)\n\n})\n}else{\nthis.post()\n}\n},\npost (list) {\nlist = list||[]\nlet params = util.copy(this.info)\nparams.homework_attachment = list\nparams.sid = this.$store.state.user.info.default_sid\n\n\n\n\nthis.$rest('homework_tasks/'+this.id+'/homework_complete')\n.post(params)\n.success(data=>{\n\nthis.toast('提交成功','success')\nsetTimeout(()=>{\nthis.$router.go(-1)\n},1000)\n}).error(response=>{\n\nthis.toast(response.body.message||'提交失败','warn')\n})\n\n},\ngetWXFile (list) {\nlet result = [],\nmethod = '',\ni = 0,\n$this = this\n\nlist = list||[]\n\nreturn new Promise((resolve,reject)=>{\nfunction upload () {\nif(list[i].file_type=='image'){\nmethod = 'uploadSingleImage'\n}else if(list[i].file_type=='voice'){\nmethod = 'uploadVoice'\n}\n\n$this[method](list[i].file_url)\n.then(media_id=>{\n$this.downloadWXFile(media_id,list[i].file_type)\n.then(response=>{\ni++\nresult.push(response.data[0])\n\nif(i < list.length){\nupload()\n}else{\nresolve(result)\n}\n},response=>{\nreject(response)\n})\n})\n}\nif(list.length){\nupload()\n}\n})\n}\n},\ncomputed: {\nenable_homework_star () {\nlet result = 0\nif(this.$store.state.gvars.configs&&this.$store.state.gvars.configs.params){\nresult = this.$store.state.gvars.configs.params.service.enable_homework_star\n}\n\nreturn result\n},\n}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/home/homework/submit.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d4186f1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!../../../../node_modules/_less-loader@2.2.3@less-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./submit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"306cbf40\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1d4186f1\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!./node_modules/_less-loader@2.2.3@less-loader?{\"sourceMap\":true}!./node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/home/homework/submit.vue\n// module id = nQC2\n// module chunks = 19","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-white full-fixed-page\",style:({paddingTop: _vm.headerHeight+'px'})},[(_vm.enable_homework_star)?_c('div',{staticClass:\"level-star text-center pd-10 b-b-1\"},[_c('my-rater',{attrs:{\"font-size\":30,\"margin\":15},model:{value:(_vm.info.star),callback:function ($$v) {_vm.$set(_vm.info, \"star\", $$v)},expression:\"info.star\"}}),_vm._v(\" \"),_c('p',[_c('small',{staticClass:\"text-disable\"},[_vm._v(\"\\n\\t\\t\\t\\t作业星级: \"+_vm._s(_vm.map_star_text[_vm.info.star])+\"\\n\\t\\t\\t\")])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content-input\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.content),expression:\"info.content\"}],staticClass:\"x-teaxtare\",attrs:{\"placeholder\":\"请输入作业内容\"},domProps:{\"value\":(_vm.info.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.info, \"content\", $event.target.value)}}}),_vm._v(\" \"),_c('p',{staticClass:\"text-right text-small\",on:{\"click\":function($event){_vm.showRecord=true}}},[_c('i',{staticClass:\"icon icon-mic-a\"}),_vm._v(\" 点击录制语音\")])]),_vm._v(\" \"),_c('div',{staticClass:\"input-file-container\"},[_c('div',{staticClass:\"image-list\"},[_vm._l((_vm.file_list('image')),function(item){return _c('div',{staticClass:\"image-item\",style:({background:'url('+item.file_url+')'})},[_c('div',{staticClass:\"image-close\",on:{\"click\":function($event){_vm.delItem(item)}}},[_vm._v(\"X\")])])}),_vm._v(\" \"),_c('div',{staticClass:\"image-item space\",on:{\"click\":_vm.chooseWXImage}},[_vm._m(0)])],2)]),_vm._v(\" \"),(_vm.file_list('voice').length)?_c('div',{staticClass:\"record-container\"},_vm._l((_vm.file_list('voice')),function(item,index){return _c('div',{staticClass:\"voice-item\",on:{\"click\":function($event){_vm.currentItem=item}}},[_c('div',{staticClass:\"image-close\",on:{\"click\":function($event){$event.stopPropagation();_vm.delItem(item)}}},[_vm._v(\"X\")]),_vm._v(\" \"),_c('small-voice',{attrs:{\"file\":item,\"active\":_vm.currentItem==item}})],1)})):_vm._e(),_vm._v(\" \"),(_vm.showRecord)?_c('div',[_c('div',{ref:\"recordMask\",staticClass:\"record-mask\",on:{\"click\":_vm.closeRecordMask}}),_vm._v(\" \"),_c('div',{staticClass:\"recording-container\"},[_c('div',{staticClass:\"record-time\"},[_vm._v(_vm._s(_vm.recordTime))]),_vm._v(\" \"),_c('span',{staticClass:\"record-btn\",class:_vm.recording?'active':'',on:{\"click\":_vm.record}})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('x-button',{staticClass:\"x-btn x-btn-md x-btn-circle btn-bg-theme\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.submit($event)}}},[_vm._v(\"提交\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"icon icon-camera\"}),_vm._v(\" \"),_c('p',[_vm._v(\"照片\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1d4186f1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/home/homework/submit.vue\n// module id = oGNl\n// module chunks = 19"],"sourceRoot":""}